var en=Object.defineProperty;var tn=(t,e,r)=>e in t?en(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ur=(t,e,r)=>tn(t,typeof e!="symbol"?e+"":e,r);import{j as s,q as _e,_ as Ae,a as pt,A as sn,m as B}from"./ui-C_kYquTz.js";import{a as rn,r as l,R as ke,u as Qe,L as ie,b as Hs,c as an,d as nn,B as on,f as ln,h as Pe,N as cn}from"./vendor-DAx1KzFi.js";import{c as na,a as dn,u as ge,b as Zs,d as $e,Q as mn,e as un}from"./data-XqUF6HEo.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var ia,hr=rn;ia=hr.createRoot,hr.hydrateRoot;let hn={data:""},fn=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||hn},xn=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,gn=/\/\*[^]*?\*\/|  +/g,fr=/\n+/g,et=(t,e)=>{let r="",a="",n="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":a+=i[1]=="f"?et(o,i):i+"{"+et(o,i[1]=="k"?"":e)+"}":typeof o=="object"?a+=et(o,e?e.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=et.p?et.p(i,o):i+":"+o+";")}return r+(e&&n?e+"{"+n+"}":n)+a},Ye={},oa=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+oa(t[r]);return e}return t},pn=(t,e,r,a,n)=>{let i=oa(t),o=Ye[i]||(Ye[i]=(d=>{let h=0,x=11;for(;h<d.length;)x=101*x+d.charCodeAt(h++)>>>0;return"go"+x})(i));if(!Ye[o]){let d=i!==t?t:(h=>{let x,g,v=[{}];for(;x=xn.exec(h.replace(gn,""));)x[4]?v.shift():x[3]?(g=x[3].replace(fr," ").trim(),v.unshift(v[0][g]=v[0][g]||{})):v[0][x[1]]=x[2].replace(fr," ").trim();return v[0]})(t);Ye[o]=et(n?{["@keyframes "+o]:d}:d,r?"":"."+o)}let c=r&&Ye.g?Ye.g:null;return r&&(Ye.g=Ye[o]),((d,h,x,g)=>{g?h.data=h.data.replace(g,d):h.data.indexOf(d)===-1&&(h.data=x?d+h.data:h.data+d)})(Ye[o],e,a,c),o},yn=(t,e,r)=>t.reduce((a,n,i)=>{let o=e[i];if(o&&o.call){let c=o(r),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=d?"."+d:c&&typeof c=="object"?c.props?"":et(c,""):c===!1?"":c}return a+n+(o??"")},"");function ds(t){let e=this||{},r=t.call?t(e.p):t;return pn(r.unshift?r.raw?yn(r,[].slice.call(arguments,1),e.p):r.reduce((a,n)=>Object.assign(a,n&&n.call?n(e.p):n),{}):r,fn(e.target),e.g,e.o,e.k)}let la,Fs,Ls;ds.bind({g:1});let Ze=ds.bind({k:1});function bn(t,e,r,a){et.p=e,la=t,Fs=r,Ls=a}function at(t,e){let r=this||{};return function(){let a=arguments;function n(i,o){let c=Object.assign({},i),d=c.className||n.className;r.p=Object.assign({theme:Fs&&Fs()},c),r.o=/ *go\d+/.test(d),c.className=ds.apply(r,a)+(d?" "+d:"");let h=t;return t[0]&&(h=c.as||t,delete c.as),Ls&&h[0]&&Ls(c),la(h,c)}return n}}var vn=t=>typeof t=="function",ts=(t,e)=>vn(t)?t(e):t,wn=(()=>{let t=0;return()=>(++t).toString()})(),ca=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),jn=20,Qs="default",da=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:a}=e;return da(t,{type:t.toasts.find(o=>o.id===a.id)?1:0,toast:a});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Zt=[],ma={toasts:[],pausedAt:void 0,settings:{toastLimit:jn}},Ve={},ua=(t,e=Qs)=>{Ve[e]=da(Ve[e]||ma,t),Zt.forEach(([r,a])=>{r===e&&a(Ve[e])})},ha=t=>Object.keys(Ve).forEach(e=>ua(t,e)),Nn=t=>Object.keys(Ve).find(e=>Ve[e].toasts.some(r=>r.id===t)),ms=(t=Qs)=>e=>{ua(e,t)},kn={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Cn=(t={},e=Qs)=>{let[r,a]=l.useState(Ve[e]||ma),n=l.useRef(Ve[e]);l.useEffect(()=>(n.current!==Ve[e]&&a(Ve[e]),Zt.push([e,a]),()=>{let o=Zt.findIndex(([c])=>c===e);o>-1&&Zt.splice(o,1)}),[e]);let i=r.toasts.map(o=>{var c,d,h;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((c=t[o.type])==null?void 0:c.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((d=t[o.type])==null?void 0:d.duration)||(t==null?void 0:t.duration)||kn[o.type],style:{...t.style,...(h=t[o.type])==null?void 0:h.style,...o.style}}});return{...r,toasts:i}},Sn=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||wn()}),It=t=>(e,r)=>{let a=Sn(e,t,r);return ms(a.toasterId||Nn(a.id))({type:2,toast:a}),a.id},D=(t,e)=>It("blank")(t,e);D.error=It("error");D.success=It("success");D.loading=It("loading");D.custom=It("custom");D.dismiss=(t,e)=>{let r={type:3,toastId:t};e?ms(e)(r):ha(r)};D.dismissAll=t=>D.dismiss(void 0,t);D.remove=(t,e)=>{let r={type:4,toastId:t};e?ms(e)(r):ha(r)};D.removeAll=t=>D.remove(void 0,t);D.promise=(t,e,r)=>{let a=D.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(n=>{let i=e.success?ts(e.success,n):void 0;return i?D.success(i,{id:a,...r,...r==null?void 0:r.success}):D.dismiss(a),n}).catch(n=>{let i=e.error?ts(e.error,n):void 0;i?D.error(i,{id:a,...r,...r==null?void 0:r.error}):D.dismiss(a)}),t};var _n=1e3,En=(t,e="default")=>{let{toasts:r,pausedAt:a}=Cn(t,e),n=l.useRef(new Map).current,i=l.useCallback((g,v=_n)=>{if(n.has(g))return;let w=setTimeout(()=>{n.delete(g),o({type:4,toastId:g})},v);n.set(g,w)},[]);l.useEffect(()=>{if(a)return;let g=Date.now(),v=r.map(w=>{if(w.duration===1/0)return;let F=(w.duration||0)+w.pauseDuration-(g-w.createdAt);if(F<0){w.visible&&D.dismiss(w.id);return}return setTimeout(()=>D.dismiss(w.id,e),F)});return()=>{v.forEach(w=>w&&clearTimeout(w))}},[r,a,e]);let o=l.useCallback(ms(e),[e]),c=l.useCallback(()=>{o({type:5,time:Date.now()})},[o]),d=l.useCallback((g,v)=>{o({type:1,toast:{id:g,height:v}})},[o]),h=l.useCallback(()=>{a&&o({type:6,time:Date.now()})},[a,o]),x=l.useCallback((g,v)=>{let{reverseOrder:w=!1,gutter:F=8,defaultPosition:y}=v||{},S=r.filter(_=>(_.position||y)===(g.position||y)&&_.height),O=S.findIndex(_=>_.id===g.id),b=S.filter((_,V)=>V<O&&_.visible).length;return S.filter(_=>_.visible).slice(...w?[b+1]:[0,b]).reduce((_,V)=>_+(V.height||0)+F,0)},[r]);return l.useEffect(()=>{r.forEach(g=>{if(g.dismissed)i(g.id,g.removeDelay);else{let v=n.get(g.id);v&&(clearTimeout(v),n.delete(g.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:d,startPause:c,endPause:h,calculateOffset:x}}},Pn=Ze`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,On=Ze`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,An=Ze`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Mn=at("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Pn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${On} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${An} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Tn=Ze`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Fn=at("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Tn} 1s linear infinite;
`,Ln=Ze`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Dn=Ze`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,In=at("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ln} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Dn} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Rn=at("div")`
  position: absolute;
`,Bn=at("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,qn=Ze`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$n=at("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${qn} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Vn=({toast:t})=>{let{icon:e,type:r,iconTheme:a}=t;return e!==void 0?typeof e=="string"?l.createElement($n,null,e):e:r==="blank"?null:l.createElement(Bn,null,l.createElement(Fn,{...a}),r!=="loading"&&l.createElement(Rn,null,r==="error"?l.createElement(Mn,{...a}):l.createElement(In,{...a})))},Wn=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Un=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,zn="0%{opacity:0;} 100%{opacity:1;}",Yn="0%{opacity:1;} 100%{opacity:0;}",Hn=at("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Zn=at("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Qn=(t,e)=>{let r=t.includes("top")?1:-1,[a,n]=ca()?[zn,Yn]:[Wn(r),Un(r)];return{animation:e?`${Ze(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ze(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Kn=l.memo(({toast:t,position:e,style:r,children:a})=>{let n=t.height?Qn(t.position||e||"top-center",t.visible):{opacity:0},i=l.createElement(Vn,{toast:t}),o=l.createElement(Zn,{...t.ariaProps},ts(t.message,t));return l.createElement(Hn,{className:t.className,style:{...n,...r,...t.style}},typeof a=="function"?a({icon:i,message:o}):l.createElement(l.Fragment,null,i,o))});bn(l.createElement);var Xn=({id:t,className:e,style:r,onHeightUpdate:a,children:n})=>{let i=l.useCallback(o=>{if(o){let c=()=>{let d=o.getBoundingClientRect().height;a(t,d)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return l.createElement("div",{ref:i,className:e,style:r},n)},Gn=(t,e)=>{let r=t.includes("top"),a=r?{top:0}:{bottom:0},n=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ca()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...a,...n}},Jn=ds`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Wt=16,ei=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:a,children:n,toasterId:i,containerStyle:o,containerClassName:c})=>{let{toasts:d,handlers:h}=En(r,i);return l.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Wt,left:Wt,right:Wt,bottom:Wt,pointerEvents:"none",...o},className:c,onMouseEnter:h.startPause,onMouseLeave:h.endPause},d.map(x=>{let g=x.position||e,v=h.calculateOffset(x,{reverseOrder:t,gutter:a,defaultPosition:e}),w=Gn(g,v);return l.createElement(Xn,{id:x.id,key:x.id,onHeightUpdate:h.updateHeight,className:x.visible?Jn:"",style:w},x.type==="custom"?ts(x.message,x):n?n(x):l.createElement(Kn,{toast:x,position:g}))}))},oe=D;const Ue=Object.create(null);Ue.open="0";Ue.close="1";Ue.ping="2";Ue.pong="3";Ue.message="4";Ue.upgrade="5";Ue.noop="6";const Qt=Object.create(null);Object.keys(Ue).forEach(t=>{Qt[Ue[t]]=t});const Ds={type:"error",data:"parser error"},fa=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",xa=typeof ArrayBuffer=="function",ga=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Ks=({type:t,data:e},r,a)=>fa&&e instanceof Blob?r?a(e):xr(e,a):xa&&(e instanceof ArrayBuffer||ga(e))?r?a(e):xr(new Blob([e]),a):a(Ue[t]+(e||"")),xr=(t,e)=>{const r=new FileReader;return r.onload=function(){const a=r.result.split(",")[1];e("b"+(a||""))},r.readAsDataURL(t)};function gr(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let ys;function ti(t,e){if(fa&&t.data instanceof Blob)return t.data.arrayBuffer().then(gr).then(e);if(xa&&(t.data instanceof ArrayBuffer||ga(t.data)))return e(gr(t.data));Ks(t,!1,r=>{ys||(ys=new TextEncoder),e(ys.encode(r))})}const pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<pr.length;t++)Tt[pr.charCodeAt(t)]=t;const si=t=>{let e=t.length*.75,r=t.length,a,n=0,i,o,c,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const h=new ArrayBuffer(e),x=new Uint8Array(h);for(a=0;a<r;a+=4)i=Tt[t.charCodeAt(a)],o=Tt[t.charCodeAt(a+1)],c=Tt[t.charCodeAt(a+2)],d=Tt[t.charCodeAt(a+3)],x[n++]=i<<2|o>>4,x[n++]=(o&15)<<4|c>>2,x[n++]=(c&3)<<6|d&63;return h},ri=typeof ArrayBuffer=="function",Xs=(t,e)=>{if(typeof t!="string")return{type:"message",data:pa(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:ai(t.substring(1),e)}:Qt[r]?t.length>1?{type:Qt[r],data:t.substring(1)}:{type:Qt[r]}:Ds},ai=(t,e)=>{if(ri){const r=si(t);return pa(r,e)}else return{base64:!0,data:t}},pa=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},ya="",ni=(t,e)=>{const r=t.length,a=new Array(r);let n=0;t.forEach((i,o)=>{Ks(i,!1,c=>{a[o]=c,++n===r&&e(a.join(ya))})})},ii=(t,e)=>{const r=t.split(ya),a=[];for(let n=0;n<r.length;n++){const i=Xs(r[n],e);if(a.push(i),i.type==="error")break}return a};function oi(){return new TransformStream({transform(t,e){ti(t,r=>{const a=r.length;let n;if(a<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,a);else if(a<65536){n=new Uint8Array(3);const i=new DataView(n.buffer);i.setUint8(0,126),i.setUint16(1,a)}else{n=new Uint8Array(9);const i=new DataView(n.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(a))}t.data&&typeof t.data!="string"&&(n[0]|=128),e.enqueue(n),e.enqueue(r)})}})}let bs;function Ut(t){return t.reduce((e,r)=>e+r.length,0)}function zt(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let a=0;for(let n=0;n<e;n++)r[n]=t[0][a++],a===t[0].length&&(t.shift(),a=0);return t.length&&a<t[0].length&&(t[0]=t[0].slice(a)),r}function li(t,e){bs||(bs=new TextDecoder);const r=[];let a=0,n=-1,i=!1;return new TransformStream({transform(o,c){for(r.push(o);;){if(a===0){if(Ut(r)<1)break;const d=zt(r,1);i=(d[0]&128)===128,n=d[0]&127,n<126?a=3:n===126?a=1:a=2}else if(a===1){if(Ut(r)<2)break;const d=zt(r,2);n=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),a=3}else if(a===2){if(Ut(r)<8)break;const d=zt(r,8),h=new DataView(d.buffer,d.byteOffset,d.length),x=h.getUint32(0);if(x>Math.pow(2,21)-1){c.enqueue(Ds);break}n=x*Math.pow(2,32)+h.getUint32(4),a=3}else{if(Ut(r)<n)break;const d=zt(r,n);c.enqueue(Xs(i?d:bs.decode(d),e)),a=0}if(n===0||n>t){c.enqueue(Ds);break}}}})}const ba=4;function ue(t){if(t)return ci(t)}function ci(t){for(var e in ue.prototype)t[e]=ue.prototype[e];return t}ue.prototype.on=ue.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ue.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};ue.prototype.off=ue.prototype.removeListener=ue.prototype.removeAllListeners=ue.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var a,n=0;n<r.length;n++)if(a=r[n],a===e||a.fn===e){r.splice(n,1);break}return r.length===0&&delete this._callbacks["$"+t],this};ue.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],a=1;a<arguments.length;a++)e[a-1]=arguments[a];if(r){r=r.slice(0);for(var a=0,n=r.length;a<n;++a)r[a].apply(this,e)}return this};ue.prototype.emitReserved=ue.prototype.emit;ue.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ue.prototype.hasListeners=function(t){return!!this.listeners(t).length};const us=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),Oe=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),di="arraybuffer";function va(t,...e){return e.reduce((r,a)=>(t.hasOwnProperty(a)&&(r[a]=t[a]),r),{})}const mi=Oe.setTimeout,ui=Oe.clearTimeout;function hs(t,e){e.useNativeTimers?(t.setTimeoutFn=mi.bind(Oe),t.clearTimeoutFn=ui.bind(Oe)):(t.setTimeoutFn=Oe.setTimeout.bind(Oe),t.clearTimeoutFn=Oe.clearTimeout.bind(Oe))}const hi=1.33;function fi(t){return typeof t=="string"?xi(t):Math.ceil((t.byteLength||t.size)*hi)}function xi(t){let e=0,r=0;for(let a=0,n=t.length;a<n;a++)e=t.charCodeAt(a),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(a++,r+=4);return r}function wa(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function gi(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function pi(t){let e={},r=t.split("&");for(let a=0,n=r.length;a<n;a++){let i=r[a].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class yi extends Error{constructor(e,r,a){super(e),this.description=r,this.context=a,this.type="TransportError"}}class Gs extends ue{constructor(e){super(),this.writable=!1,hs(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,a){return super.emitReserved("error",new yi(e,r,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=Xs(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=gi(e);return r.length?"?"+r:""}}class bi extends Gs{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||r()})),this.writable||(a++,this.once("drain",function(){--a||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};ii(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,ni(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=wa()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let ja=!1;try{ja=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const vi=ja;function wi(){}class ji extends bi{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let a=location.port;a||(a=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||a!==e.port}}doWrite(e,r){const a=this.request({method:"POST",data:e});a.on("success",r),a.on("error",(n,i)=>{this.onError("xhr post error",n,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,a)=>{this.onError("xhr poll error",r,a)}),this.pollXhr=e}}class We extends ue{constructor(e,r,a){super(),this.createRequest=e,hs(this,a),this._opts=a,this._method=a.method||"GET",this._uri=r,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var e;const r=va(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(r);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let n in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(n)&&a.setRequestHeader(n,this._opts.extraHeaders[n])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var n;a.readyState===3&&((n=this._opts.cookieJar)===null||n===void 0||n.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(n){this.setTimeoutFn(()=>{this._onError(n)},0);return}typeof document<"u"&&(this._index=We.requestsCount++,We.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=wi,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete We.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}We.requestsCount=0;We.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",yr);else if(typeof addEventListener=="function"){const t="onpagehide"in Oe?"pagehide":"unload";addEventListener(t,yr,!1)}}function yr(){for(let t in We.requests)We.requests.hasOwnProperty(t)&&We.requests[t].abort()}const Ni=function(){const t=Na({xdomain:!1});return t&&t.responseType!==null}();class ki extends ji{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=Ni&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new We(Na,this.uri(),e)}}function Na(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||vi))return new XMLHttpRequest}catch{}if(!e)try{return new Oe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ka=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ci extends Gs{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,a=ka?{}:va(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,a)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const a=e[r],n=r===e.length-1;Ks(a,this.supportsBinary,i=>{try{this.doWrite(a,i)}catch{}n&&us(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=wa()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const vs=Oe.WebSocket||Oe.MozWebSocket;class Si extends Ci{createSocket(e,r,a){return ka?new vs(e,r,a):r?new vs(e,r):new vs(e)}doWrite(e,r){this.ws.send(r)}}class _i extends Gs{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=li(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=e.readable.pipeThrough(r).getReader(),n=oi();n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();const i=()=>{a.read().then(({done:c,value:d})=>{c||(this.onPacket(d),i())}).catch(c=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const a=e[r],n=r===e.length-1;this._writer.write(a).then(()=>{n&&us(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Ei={websocket:Si,webtransport:_i,polling:ki},Pi=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Oi=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Is(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),a=t.indexOf("]");r!=-1&&a!=-1&&(t=t.substring(0,r)+t.substring(r,a).replace(/:/g,";")+t.substring(a,t.length));let n=Pi.exec(t||""),i={},o=14;for(;o--;)i[Oi[o]]=n[o]||"";return r!=-1&&a!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Ai(i,i.path),i.queryKey=Mi(i,i.query),i}function Ai(t,e){const r=/\/{2,9}/g,a=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&a.splice(0,1),e.slice(-1)=="/"&&a.splice(a.length-1,1),a}function Mi(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,n,i){n&&(r[n]=i)}),r}const Rs=typeof addEventListener=="function"&&typeof removeEventListener=="function",Kt=[];Rs&&addEventListener("offline",()=>{Kt.forEach(t=>t())},!1);class st extends ue{constructor(e,r){if(super(),this.binaryType=di,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const a=Is(e);r.hostname=a.host,r.secure=a.protocol==="https"||a.protocol==="wss",r.port=a.port,a.query&&(r.query=a.query)}else r.host&&(r.hostname=Is(r.host).host);hs(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(a=>{const n=a.prototype.name;this.transports.push(n),this._transportsByName[n]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=pi(this.opts.query)),Rs&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Kt.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=ba,r.transport=e,this.id&&(r.sid=this.id);const a=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&st.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",st.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let a=0;a<this.writeBuffer.length;a++){const n=this.writeBuffer[a].data;if(n&&(r+=fi(n)),a>0&&r>this._maxPayload)return this.writeBuffer.slice(0,a);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,us(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,a){return this._sendPacket("message",e,r,a),this}send(e,r,a){return this._sendPacket("message",e,r,a),this}_sendPacket(e,r,a,n){if(typeof r=="function"&&(n=r,r=void 0),typeof a=="function"&&(n=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const i={type:e,data:r,options:a};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},a=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():e()}):this.upgrading?a():e()),this}_onError(e){if(st.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Rs&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=Kt.indexOf(this._offlineEventListener);a!==-1&&Kt.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}st.protocol=ba;class Ti extends st{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),a=!1;st.priorWebsocketSuccess=!1;const n=()=>{a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",g=>{if(!a)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;st.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(x(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=r.name,this.emitReserved("upgradeError",v)}}))};function i(){a||(a=!0,x(),r.close(),r=null)}const o=g=>{const v=new Error("probe error: "+g);v.transport=r.name,i(),this.emitReserved("upgradeError",v)};function c(){o("transport closed")}function d(){o("socket closed")}function h(g){r&&g.name!==r.name&&i()}const x=()=>{r.removeListener("open",n),r.removeListener("error",o),r.removeListener("close",c),this.off("close",d),this.off("upgrading",h)};r.once("open",n),r.once("error",o),r.once("close",c),this.once("close",d),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{a||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let a=0;a<e.length;a++)~this.transports.indexOf(e[a])&&r.push(e[a]);return r}}let Fi=class extends Ti{constructor(e,r={}){const a=typeof e=="object"?e:r;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(n=>Ei[n]).filter(n=>!!n)),super(e,a)}};function Li(t,e="",r){let a=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),a=Is(t)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const i=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+i+":"+a.port+e,a.href=a.protocol+"://"+i+(r&&r.port===a.port?"":":"+a.port),a}const Di=typeof ArrayBuffer=="function",Ii=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Ca=Object.prototype.toString,Ri=typeof Blob=="function"||typeof Blob<"u"&&Ca.call(Blob)==="[object BlobConstructor]",Bi=typeof File=="function"||typeof File<"u"&&Ca.call(File)==="[object FileConstructor]";function Js(t){return Di&&(t instanceof ArrayBuffer||Ii(t))||Ri&&t instanceof Blob||Bi&&t instanceof File}function Xt(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,a=t.length;r<a;r++)if(Xt(t[r]))return!0;return!1}if(Js(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Xt(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Xt(t[r]))return!0;return!1}function qi(t){const e=[],r=t.data,a=t;return a.data=Bs(r,e),a.attachments=e.length,{packet:a,buffers:e}}function Bs(t,e){if(!t)return t;if(Js(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let a=0;a<t.length;a++)r[a]=Bs(t[a],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=Bs(t[a],e));return r}return t}function $i(t,e){return t.data=qs(t.data,e),delete t.attachments,t}function qs(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=qs(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=qs(t[r],e));return t}const Sa=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Vi=5;var W;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(W||(W={}));class Wi{constructor(e){this.replacer=e}encode(e){return(e.type===W.EVENT||e.type===W.ACK)&&Xt(e)?this.encodeAsBinary({type:e.type===W.EVENT?W.BINARY_EVENT:W.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===W.BINARY_EVENT||e.type===W.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=qi(e),a=this.encodeAsString(r.packet),n=r.buffers;return n.unshift(a),n}}class er extends ue{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const a=r.type===W.BINARY_EVENT;a||r.type===W.BINARY_ACK?(r.type=a?W.EVENT:W.ACK,this.reconstructor=new Ui(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Js(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const a={type:Number(e.charAt(0))};if(W[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===W.BINARY_EVENT||a.type===W.BINARY_ACK){const i=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(i,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");a.attachments=Number(o)}if(e.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););a.nsp=e.substring(i,r)}else a.nsp="/";const n=e.charAt(r+1);if(n!==""&&Number(n)==n){const i=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}a.id=Number(e.substring(i,r+1))}if(e.charAt(++r)){const i=this.tryParse(e.substr(r));if(er.isPayloadValid(a.type,i))a.data=i;else throw new Error("invalid payload")}return a}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case W.CONNECT:return ss(r);case W.DISCONNECT:return r===void 0;case W.CONNECT_ERROR:return typeof r=="string"||ss(r);case W.EVENT:case W.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Sa.indexOf(r[0])===-1);case W.ACK:case W.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ui{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=$i(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function zi(t){return typeof t=="string"}const Yi=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};function Hi(t){return t===void 0||Yi(t)}function ss(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zi(t,e){switch(t){case W.CONNECT:return e===void 0||ss(e);case W.DISCONNECT:return e===void 0;case W.EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&Sa.indexOf(e[0])===-1);case W.ACK:return Array.isArray(e);case W.CONNECT_ERROR:return typeof e=="string"||ss(e);default:return!1}}function Qi(t){return zi(t.nsp)&&Hi(t.id)&&Zi(t.type,t.data)}const Ki=Object.freeze(Object.defineProperty({__proto__:null,Decoder:er,Encoder:Wi,get PacketType(){return W},isPacketValid:Qi,protocol:Vi},Symbol.toStringTag,{value:"Module"}));function Me(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const Xi=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _a extends ue{constructor(e,r,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Me(e,"open",this.onopen.bind(this)),Me(e,"packet",this.onpacket.bind(this)),Me(e,"error",this.onerror.bind(this)),Me(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var a,n,i;if(Xi.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:W.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const x=this.ids++,g=r.pop();this._registerAckCallback(x,g),o.id=x}const c=(n=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||n===void 0?void 0:n.writable,d=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!c||(d?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var a;const n=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(n===void 0){this.acks[e]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);r.call(this,new Error("operation has timed out"))},n),o=(...c)=>{this.io.clearTimeoutFn(i),r.apply(this,c)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((a,n)=>{const i=(o,c)=>o?n(o):a(c);i.withError=!0,r.push(i),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((n,...i)=>(this._queue[0],n!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(n)):(this._queue.shift(),r&&r(null,...i)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:W.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(a=>String(a.id)===e)){const a=this.acks[e];delete this.acks[e],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case W.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case W.EVENT:case W.BINARY_EVENT:this.onevent(e);break;case W.ACK:case W.BINARY_ACK:this.onack(e);break;case W.DISCONNECT:this.ondisconnect();break;case W.CONNECT_ERROR:this.destroy();const a=new Error(e.data.message);a.data=e.data.data,this.emitReserved("connect_error",a);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const a of r)a.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let a=!1;return function(...n){a||(a=!0,r.packet({type:W.ACK,id:e,data:n}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:W.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let a=0;a<r.length;a++)if(e===r[a])return r.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let a=0;a<r.length;a++)if(e===r[a])return r.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const a of r)a.apply(this,e.data)}}}function _t(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}_t.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0};_t.prototype.reset=function(){this.attempts=0};_t.prototype.setMin=function(t){this.ms=t};_t.prototype.setMax=function(t){this.max=t};_t.prototype.setJitter=function(t){this.jitter=t};class $s extends ue{constructor(e,r){var a;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,hs(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((a=r.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new _t({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const n=r.parser||Ki;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Fi(this.uri,this.opts);const r=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const n=Me(r,"open",function(){a.onopen(),e&&e()}),i=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},o=Me(r,"error",i);if(this._timeout!==!1){const c=this._timeout,d=this.setTimeoutFn(()=>{n(),i(new Error("timeout")),r.close()},c);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(n),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Me(e,"ping",this.onping.bind(this)),Me(e,"data",this.ondata.bind(this)),Me(e,"error",this.onerror.bind(this)),Me(e,"close",this.onclose.bind(this)),Me(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){us(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let a=this.nsps[e];return a?this._autoConnect&&!a.active&&a.connect():(a=new _a(this,e,r),this.nsps[e]=a),a}_destroy(e){const r=Object.keys(this.nsps);for(const a of r)if(this.nsps[a].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let a=0;a<r.length;a++)this.engine.write(r[a],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(n=>{n?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",n)):e.onreconnect()}))},r);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Et={};function Gt(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=Li(t,e.path||"/socket.io"),a=r.source,n=r.id,i=r.path,o=Et[n]&&i in Et[n].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let d;return c?d=new $s(a,e):(Et[n]||(Et[n]=new $s(a,e)),d=Et[n]),r.query&&!e.query&&(e.query=r.queryKey),d.socket(r.path,e)}Object.assign(Gt,{Manager:$s,Socket:_a,io:Gt,connect:Gt});const Gi={};function Ji(t,e){let r;try{r=t()}catch{return}return{getItem:n=>{var i;const o=d=>d===null?null:JSON.parse(d,void 0),c=(i=r.getItem(n))!=null?i:null;return c instanceof Promise?c.then(o):o(c)},setItem:(n,i)=>r.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>r.removeItem(n)}}const Dt=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(a){return Dt(a)(r)},catch(a){return this}}}catch(r){return{then(a){return this},catch(a){return Dt(a)(r)}}}},eo=(t,e)=>(r,a,n)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:S=>S,version:0,merge:(S,O)=>({...O,...S}),...e},o=!1;const c=new Set,d=new Set;let h;try{h=i.getStorage()}catch{}if(!h)return t((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...S)},a,n);const x=Dt(i.serialize),g=()=>{const S=i.partialize({...a()});let O;const b=x({state:S,version:i.version}).then(_=>h.setItem(i.name,_)).catch(_=>{O=_});if(O)throw O;return b},v=n.setState;n.setState=(S,O)=>{v(S,O),g()};const w=t((...S)=>{r(...S),g()},a,n);let F;const y=()=>{var S;if(!h)return;o=!1,c.forEach(b=>b(a()));const O=((S=i.onRehydrateStorage)==null?void 0:S.call(i,a()))||void 0;return Dt(h.getItem.bind(h))(i.name).then(b=>{if(b)return i.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return i.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var _;return F=i.merge(b,(_=a())!=null?_:w),r(F,!0),g()}).then(()=>{O==null||O(F,void 0),o=!0,d.forEach(b=>b(F))}).catch(b=>{O==null||O(void 0,b)})};return n.persist={setOptions:S=>{i={...i,...S},S.getStorage&&(h=S.getStorage())},clearStorage:()=>{h==null||h.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:S=>(c.add(S),()=>{c.delete(S)}),onFinishHydration:S=>(d.add(S),()=>{d.delete(S)})},y(),F||w},to=(t,e)=>(r,a,n)=>{let i={storage:Ji(()=>localStorage),partialize:y=>y,version:0,merge:(y,S)=>({...S,...y}),...e},o=!1;const c=new Set,d=new Set;let h=i.storage;if(!h)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...y)},a,n);const x=()=>{const y=i.partialize({...a()});return h.setItem(i.name,{state:y,version:i.version})},g=n.setState;n.setState=(y,S)=>{g(y,S),x()};const v=t((...y)=>{r(...y),x()},a,n);n.getInitialState=()=>v;let w;const F=()=>{var y,S;if(!h)return;o=!1,c.forEach(b=>{var _;return b((_=a())!=null?_:v)});const O=((S=i.onRehydrateStorage)==null?void 0:S.call(i,(y=a())!=null?y:v))||void 0;return Dt(h.getItem.bind(h))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var _;const[V,q]=b;if(w=i.merge(q,(_=a())!=null?_:v),r(w,!0),V)return x()}).then(()=>{O==null||O(w,void 0),w=a(),o=!0,d.forEach(b=>b(w))}).catch(b=>{O==null||O(void 0,b)})};return n.persist={setOptions:y=>{i={...i,...y},y.storage&&(h=y.storage)},clearStorage:()=>{h==null||h.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>F(),hasHydrated:()=>o,onHydrate:y=>(c.add(y),()=>{c.delete(y)}),onFinishHydration:y=>(d.add(y),()=>{d.delete(y)})},i.skipHydration||F(),w||v},so=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Gi?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),eo(t,e)):to(t,e),Ea=so,De=na()(Ea(t=>({token:null,user:null,setAuth:(e,r)=>{localStorage.setItem("token",e),t({token:e,user:r})},clearAuth:()=>{localStorage.removeItem("token"),t({token:null,user:null})}}),{name:"auth-storage"})),br="ORDER_ACTIVITY",ro="https://admin.fixzep.com/api".replace(/\/api\/?$/,"")||"https://admin.fixzep.com",Pa=l.createContext(null),ao=({children:t})=>{const{user:e}=De(),[r,a]=l.useState(null),[n,i]=l.useState(!1),o=l.useRef(e);l.useEffect(()=>{o.current=e},[e]),l.useEffect(()=>{if(!(e!=null&&e.id)){r&&(r.disconnect(),a(null),i(!1));return}const h=Gt(ro,{transports:["websocket","polling"],autoConnect:!0,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});return h.on("connect",()=>{i(!0),h.emit("customer:join",{userId:e.id})}),h.on("disconnect",()=>{i(!1)}),h.on("connect_error",()=>{i(!1)}),a(h),()=>{h.disconnect(),a(null),i(!1)}},[e==null?void 0:e.id]);const c=l.useCallback(h=>{var x;r!=null&&r.connected&&h&&((x=o.current)!=null&&x.id)&&r.emit("order:join",{orderId:h,userId:o.current.id,role:"customer"})},[r]),d=l.useCallback(h=>{r!=null&&r.connected&&h&&r.emit("order:leave",{orderId:h})},[r]);return s.jsx(Pa.Provider,{value:{socket:r,isConnected:n,joinOrder:c,leaveOrder:d},children:t})},no=()=>l.useContext(Pa);function io({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const ws=l.forwardRef(io);function oo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const rs=l.forwardRef(oo);function lo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const co=l.forwardRef(lo);function mo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const vr=l.forwardRef(mo);function uo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const ho=l.forwardRef(uo);function fo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const xo=l.forwardRef(fo);function go({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const po=l.forwardRef(go);function yo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const bo=l.forwardRef(yo);function vo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const wo=l.forwardRef(vo);function jo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Oa=l.forwardRef(jo);function No({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const ko=l.forwardRef(No);function Co({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const mt=l.forwardRef(Co);function So({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Aa=l.forwardRef(So);function _o({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Eo=l.forwardRef(_o);function Po({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const Oo=l.forwardRef(Po);function Ao({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Jt=l.forwardRef(Ao);function Mo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const To=l.forwardRef(Mo);function Fo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const rt=l.forwardRef(Fo);function Lo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const wr=l.forwardRef(Lo);function Do({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Io=l.forwardRef(Do);function Ro({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 8.25H9m6 3H9m3 6-3-3h1.5a3 3 0 1 0 0-6M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Rt=l.forwardRef(Ro);function Bo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const jr=l.forwardRef(Bo);function qo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const kt=l.forwardRef(qo);function $o({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const Nr=l.forwardRef($o);function Vo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Wo=l.forwardRef(Vo);function Uo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM13.5 10.5h-6"}))}const zo=l.forwardRef(Uo);function Yo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM10.5 7.5v6m3-3h-6"}))}const Ho=l.forwardRef(Yo);function Zo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const ut=l.forwardRef(Zo);function Qo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.503 3.498 4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 0 0-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0Z"}))}const Ko=l.forwardRef(Qo);function Xo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const Go=l.forwardRef(Xo);function Jo({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const js=l.forwardRef(Jo);function el({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Ct=l.forwardRef(el);function tl({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Bt=l.forwardRef(tl);function sl({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const tr=l.forwardRef(sl);function rl({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const al=l.forwardRef(rl);function nl({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Ma=l.forwardRef(nl);function il({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const ol=l.forwardRef(il);function ll({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const cl=l.forwardRef(ll);function dl({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const ml=l.forwardRef(dl);function ul({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const es=l.forwardRef(ul);function hl({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const sr=l.forwardRef(hl);function fl({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"}))}const xl=l.forwardRef(fl);function gl({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const as=l.forwardRef(gl);function pl({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const qt=l.forwardRef(pl),yl="https://admin.fixzep.com/api";class bl{constructor(){ur(this,"client");this.client=dn.create({baseURL:yl,headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{const r=localStorage.getItem("token");return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,e=>{var a,n,i,o,c;const r=((n=(a=e.config)==null?void 0:a.url)==null?void 0:n.includes("/auth/login"))||((o=(i=e.config)==null?void 0:i.url)==null?void 0:o.includes("/auth/register"));return((c=e.response)==null?void 0:c.status)===401&&!r&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)})}get instance(){return this.client}}const z=new bl().instance,qe={async login(t){console.log("Login attempt with:",{identifier:t.identifier}),console.log("API URL:","https://admin.fixzep.com/api");const e=await z.post("/customer/auth/login",t);return console.log("Login response:",e.data),e.data.data},async signup(t){return(await z.post("/customer/auth/register",t)).data.data},async logout(){await z.post("/customer/auth/logout"),localStorage.removeItem("token"),localStorage.removeItem("user")},async getCurrentUser(){return(await z.get("/customer/profile")).data.data},async updateProfile(t){return(await z.put("/customer/profile",t)).data.data},async forgotPassword(t){return(await z.post("/customer/auth/forgot-password",{identifier:t})).data},async resetPassword(t,e){return(await z.post("/customer/auth/reset-password",{token:t,password:e})).data},async deactivateAccount(){return(await z.post("/customer/profile/deactivate")).data.data}};var $t=t=>t.type==="checkbox",dt=t=>t instanceof Date,Ne=t=>t==null;const Ta=t=>typeof t=="object";var he=t=>!Ne(t)&&!Array.isArray(t)&&Ta(t)&&!dt(t),vl=t=>he(t)&&t.target?$t(t.target)?t.target.checked:t.target.value:t,wl=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,jl=(t,e)=>t.has(wl(e)),Nl=t=>{const e=t.constructor&&t.constructor.prototype;return he(e)&&e.hasOwnProperty("isPrototypeOf")},rr=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xe(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(rr&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(he(t)&&Nl(t)))return t;const a=r?[]:Object.create(Object.getPrototypeOf(t));for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=xe(t[n]));return a}var fs=t=>/^\w*$/.test(t),ne=t=>t===void 0,ar=t=>Array.isArray(t)?t.filter(Boolean):[],nr=t=>ar(t.replace(/["|']|\]/g,"").split(/\.|\[/)),L=(t,e,r)=>{if(!e||!he(t))return r;const a=(fs(e)?[e]:nr(e)).reduce((n,i)=>Ne(n)?n:n[i],t);return ne(a)||a===t?ne(t[e])?r:t[e]:a},Re=t=>typeof t=="boolean",Te=t=>typeof t=="function",re=(t,e,r)=>{let a=-1;const n=fs(e)?[e]:nr(e),i=n.length,o=i-1;for(;++a<i;){const c=n[a];let d=r;if(a!==o){const h=t[c];d=he(h)||Array.isArray(h)?h:isNaN(+n[a+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=d,t=t[c]}};const kr={BLUR:"blur",FOCUS_OUT:"focusout"},Fe={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},He={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},kl=ke.createContext(null);kl.displayName="HookFormContext";var Cl=(t,e,r,a=!0)=>{const n={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(n,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Fe.all&&(e._proxyFormState[o]=!a||Fe.all),t[o]}});return n};const Sl=typeof window<"u"?ke.useLayoutEffect:ke.useEffect;var Se=t=>typeof t=="string",_l=(t,e,r,a,n)=>Se(t)?(a&&e.watch.add(t),L(r,t,n)):Array.isArray(t)?t.map(i=>(a&&e.watch.add(i),L(r,i))):(a&&(e.watchAll=!0),r),Vs=t=>Ne(t)||!Ta(t);function tt(t,e,r=new WeakSet){if(Vs(t)||Vs(e))return Object.is(t,e);if(dt(t)&&dt(e))return Object.is(t.getTime(),e.getTime());const a=Object.keys(t),n=Object.keys(e);if(a.length!==n.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of a){const o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const c=e[i];if(dt(o)&&dt(c)||he(o)&&he(c)||Array.isArray(o)&&Array.isArray(c)?!tt(o,c,r):!Object.is(o,c))return!1}}return!0}var El=(t,e,r,a,n)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[a]:n||!0}}:{},Ft=t=>Array.isArray(t)?t:[t],Cr=()=>{let t=[];return{get observers(){return t},next:n=>{for(const i of t)i.next&&i.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(i=>i!==n)}}),unsubscribe:()=>{t=[]}}};function Fa(t,e){const r={};for(const a in t)if(t.hasOwnProperty(a)){const n=t[a],i=e[a];if(n&&he(n)&&i){const o=Fa(n,i);he(o)&&(r[a]=o)}else t[a]&&(r[a]=i)}return r}var ye=t=>he(t)&&!Object.keys(t).length,ir=t=>t.type==="file",ns=t=>{if(!rr)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},La=t=>t.type==="select-multiple",or=t=>t.type==="radio",Pl=t=>or(t)||$t(t),Ns=t=>ns(t)&&t.isConnected;function Ol(t,e){const r=e.slice(0,-1).length;let a=0;for(;a<r;)t=ne(t)?a++:t[e[a++]];return t}function Al(t){for(const e in t)if(t.hasOwnProperty(e)&&!ne(t[e]))return!1;return!0}function me(t,e){const r=Array.isArray(e)?e:fs(e)?[e]:nr(e),a=r.length===1?t:Ol(t,r),n=r.length-1,i=r[n];return a&&delete a[i],n!==0&&(he(a)&&ye(a)||Array.isArray(a)&&Al(a))&&me(t,r.slice(0,-1)),t}var Ml=t=>{for(const e in t)if(Te(t[e]))return!0;return!1};function Da(t){return Array.isArray(t)||he(t)&&!Ml(t)}function Ws(t,e={}){for(const r in t){const a=t[r];Da(a)?(e[r]=Array.isArray(a)?[]:{},Ws(a,e[r])):ne(a)||(e[r]=!0)}return e}function vt(t,e,r){r||(r=Ws(e));for(const a in t){const n=t[a];if(Da(n))ne(e)||Vs(r[a])?r[a]=Ws(n,Array.isArray(n)?[]:{}):vt(n,Ne(e)?{}:e[a],r[a]);else{const i=e[a];r[a]=!tt(n,i)}}return r}const Sr={value:!1,isValid:!1},_r={value:!0,isValid:!0};var Ia=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ne(t[0].attributes.value)?ne(t[0].value)||t[0].value===""?_r:{value:t[0].value,isValid:!0}:_r:Sr}return Sr},Ra=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:a})=>ne(t)?t:e?t===""?NaN:t&&+t:r&&Se(t)?new Date(t):a?a(t):t;const Er={isValid:!1,value:null};var Ba=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Er):Er;function Pr(t){const e=t.ref;return ir(e)?e.files:or(e)?Ba(t.refs).value:La(e)?[...e.selectedOptions].map(({value:r})=>r):$t(e)?Ia(t.refs).value:Ra(ne(e.value)?t.ref.value:e.value,t)}var Tl=(t,e,r,a)=>{const n={};for(const i of t){const o=L(e,i);o&&re(n,i,o._f)}return{criteriaMode:r,names:[...t],fields:n,shouldUseNativeValidation:a}},is=t=>t instanceof RegExp,Pt=t=>ne(t)?t:is(t)?t.source:he(t)?is(t.value)?t.value.source:t.value:t,Or=t=>({isOnSubmit:!t||t===Fe.onSubmit,isOnBlur:t===Fe.onBlur,isOnChange:t===Fe.onChange,isOnAll:t===Fe.all,isOnTouch:t===Fe.onTouched});const Ar="AsyncFunction";var Fl=t=>!!t&&!!t.validate&&!!(Te(t.validate)&&t.validate.constructor.name===Ar||he(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Ar)),Ll=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Mr=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const Lt=(t,e,r,a)=>{for(const n of r||Object.keys(t)){const i=L(t,n);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],n)&&!a)return!0;if(o.ref&&e(o.ref,o.name)&&!a)return!0;if(Lt(c,e))break}else if(he(c)&&Lt(c,e))break}}};function Tr(t,e,r){const a=L(t,r);if(a||fs(r))return{error:a,name:r};const n=r.split(".");for(;n.length;){const i=n.join("."),o=L(e,i),c=L(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};n.pop()}return{name:r}}var Dl=(t,e,r,a)=>{r(t);const{name:n,...i}=t;return ye(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!a||Fe.all))},Il=(t,e,r)=>!t||!e||t===e||Ft(t).some(a=>a&&(r?a===e:a.startsWith(e)||e.startsWith(a))),Rl=(t,e,r,a,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(e||t):(r?a.isOnBlur:n.isOnBlur)?!t:(r?a.isOnChange:n.isOnChange)?t:!0,Bl=(t,e)=>!ar(L(t,e)).length&&me(t,e),ql=(t,e,r)=>{const a=Ft(L(t,r));return re(a,"root",e[r]),re(t,r,a),t};function Fr(t,e,r="validate"){if(Se(t)||Array.isArray(t)&&t.every(Se)||Re(t)&&!t)return{type:r,message:Se(t)?t:"",ref:e}}var yt=t=>he(t)&&!is(t)?t:{value:t,message:""},Lr=async(t,e,r,a,n,i)=>{const{ref:o,refs:c,required:d,maxLength:h,minLength:x,min:g,max:v,pattern:w,validate:F,name:y,valueAsNumber:S,mount:O}=t._f,b=L(r,y);if(!O||e.has(y))return{};const _=c?c[0]:o,V=$=>{n&&_.reportValidity&&(_.setCustomValidity(Re($)?"":$||""),_.reportValidity())},q={},se=or(o),P=$t(o),G=se||P,K=(S||ir(o))&&ne(o.value)&&ne(b)||ns(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,I=El.bind(null,y,a,q),le=($,R,ee,U=He.maxLength,ae=He.minLength)=>{const X=$?R:ee;q[y]={type:$?U:ae,message:X,ref:o,...I($?U:ae,X)}};if(i?!Array.isArray(b)||!b.length:d&&(!G&&(K||Ne(b))||Re(b)&&!b||P&&!Ia(c).isValid||se&&!Ba(c).isValid)){const{value:$,message:R}=Se(d)?{value:!!d,message:d}:yt(d);if($&&(q[y]={type:He.required,message:R,ref:_,...I(He.required,R)},!a))return V(R),q}if(!K&&(!Ne(g)||!Ne(v))){let $,R;const ee=yt(v),U=yt(g);if(!Ne(b)&&!isNaN(b)){const ae=o.valueAsNumber||b&&+b;Ne(ee.value)||($=ae>ee.value),Ne(U.value)||(R=ae<U.value)}else{const ae=o.valueAsDate||new Date(b),X=je=>new Date(new Date().toDateString()+" "+je),ve=o.type=="time",we=o.type=="week";Se(ee.value)&&b&&($=ve?X(b)>X(ee.value):we?b>ee.value:ae>new Date(ee.value)),Se(U.value)&&b&&(R=ve?X(b)<X(U.value):we?b<U.value:ae<new Date(U.value))}if(($||R)&&(le(!!$,ee.message,U.message,He.max,He.min),!a))return V(q[y].message),q}if((h||x)&&!K&&(Se(b)||i&&Array.isArray(b))){const $=yt(h),R=yt(x),ee=!Ne($.value)&&b.length>+$.value,U=!Ne(R.value)&&b.length<+R.value;if((ee||U)&&(le(ee,$.message,R.message),!a))return V(q[y].message),q}if(w&&!K&&Se(b)){const{value:$,message:R}=yt(w);if(is($)&&!b.match($)&&(q[y]={type:He.pattern,message:R,ref:o,...I(He.pattern,R)},!a))return V(R),q}if(F){if(Te(F)){const $=await F(b,r),R=Fr($,_);if(R&&(q[y]={...R,...I(He.validate,R.message)},!a))return V(R.message),q}else if(he(F)){let $={};for(const R in F){if(!ye($)&&!a)break;const ee=Fr(await F[R](b,r),_,R);ee&&($={...ee,...I(R,ee.message)},V(ee.message),a&&(q[y]=$))}if(!ye($)&&(q[y]={ref:_,...$},!a))return q}}return V(!0),q};const $l={mode:Fe.onSubmit,reValidateMode:Fe.onChange,shouldFocusError:!0};function Vl(t={}){let e={...$l,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Te(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},a={},n=he(e.defaultValues)||he(e.values)?xe(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:xe(n),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={...x};let v={...g};const w={array:Cr(),state:Cr()},F=e.criteriaMode===Fe.all,y=m=>u=>{clearTimeout(h),h=setTimeout(m,u)},S=async m=>{if(!o.keepIsValid&&!e.disabled&&(g.isValid||v.isValid||m)){let u;e.resolver?(u=ye((await G()).errors),O()):u=await I(a,!0),u!==r.isValid&&w.state.next({isValid:u})}},O=(m,u)=>{!e.disabled&&(g.isValidating||g.validatingFields||v.isValidating||v.validatingFields)&&((m||Array.from(c.mount)).forEach(f=>{f&&(u?re(r.validatingFields,f,u):me(r.validatingFields,f))}),w.state.next({validatingFields:r.validatingFields,isValidating:!ye(r.validatingFields)}))},b=(m,u=[],f,j,N=!0,C=!0)=>{if(j&&f&&!e.disabled){if(o.action=!0,C&&Array.isArray(L(a,m))){const T=f(L(a,m),j.argA,j.argB);N&&re(a,m,T)}if(C&&Array.isArray(L(r.errors,m))){const T=f(L(r.errors,m),j.argA,j.argB);N&&re(r.errors,m,T),Bl(r.errors,m)}if((g.touchedFields||v.touchedFields)&&C&&Array.isArray(L(r.touchedFields,m))){const T=f(L(r.touchedFields,m),j.argA,j.argB);N&&re(r.touchedFields,m,T)}(g.dirtyFields||v.dirtyFields)&&(r.dirtyFields=vt(n,i)),w.state.next({name:m,isDirty:$(m,u),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else re(i,m,u)},_=(m,u)=>{re(r.errors,m,u),w.state.next({errors:r.errors})},V=m=>{r.errors=m,w.state.next({errors:r.errors,isValid:!1})},q=(m,u,f,j)=>{const N=L(a,m);if(N){const C=L(i,m,ne(f)?L(n,m):f);ne(C)||j&&j.defaultChecked||u?re(i,m,u?C:Pr(N._f)):U(m,C),o.mount&&!o.action&&S()}},se=(m,u,f,j,N)=>{let C=!1,T=!1;const H={name:m};if(!e.disabled){if(!f||j){(g.isDirty||v.isDirty)&&(T=r.isDirty,r.isDirty=H.isDirty=$(),C=T!==H.isDirty);const Q=tt(L(n,m),u);T=!!L(r.dirtyFields,m),Q?me(r.dirtyFields,m):re(r.dirtyFields,m,!0),H.dirtyFields=r.dirtyFields,C=C||(g.dirtyFields||v.dirtyFields)&&T!==!Q}if(f){const Q=L(r.touchedFields,m);Q||(re(r.touchedFields,m,f),H.touchedFields=r.touchedFields,C=C||(g.touchedFields||v.touchedFields)&&Q!==f)}C&&N&&w.state.next(H)}return C?H:{}},P=(m,u,f,j)=>{const N=L(r.errors,m),C=(g.isValid||v.isValid)&&Re(u)&&r.isValid!==u;if(e.delayError&&f?(d=y(()=>_(m,f)),d(e.delayError)):(clearTimeout(h),d=null,f?re(r.errors,m,f):me(r.errors,m)),(f?!tt(N,f):N)||!ye(j)||C){const T={...j,...C&&Re(u)?{isValid:u}:{},errors:r.errors,name:m};r={...r,...T},w.state.next(T)}},G=async m=>(O(m,!0),await e.resolver(i,e.context,Tl(m||c.mount,a,e.criteriaMode,e.shouldUseNativeValidation))),K=async m=>{const{errors:u}=await G(m);if(O(m),m)for(const f of m){const j=L(u,f);j?re(r.errors,f,j):me(r.errors,f)}else r.errors=u;return u},I=async(m,u,f={valid:!0})=>{for(const j in m){const N=m[j];if(N){const{_f:C,...T}=N;if(C){const H=c.array.has(C.name),Q=N._f&&Fl(N._f);Q&&g.validatingFields&&O([C.name],!0);const de=await Lr(N,c.disabled,i,F,e.shouldUseNativeValidation&&!u,H);if(Q&&g.validatingFields&&O([C.name]),de[C.name]&&(f.valid=!1,u||t.shouldUseNativeValidation))break;!u&&(L(de,C.name)?H?ql(r.errors,de,C.name):re(r.errors,C.name,de[C.name]):me(r.errors,C.name))}!ye(T)&&await I(T,u,f)}}return f.valid},le=()=>{for(const m of c.unMount){const u=L(a,m);u&&(u._f.refs?u._f.refs.every(f=>!Ns(f)):!Ns(u._f.ref))&&Ie(m)}c.unMount=new Set},$=(m,u)=>!e.disabled&&(m&&u&&re(i,m,u),!tt(Ke(),n)),R=(m,u,f)=>_l(m,c,{...o.mount?i:ne(u)?n:Se(m)?{[m]:u}:u},f,u),ee=m=>ar(L(o.mount?i:n,m,e.shouldUnregister?L(n,m,[]):[])),U=(m,u,f={})=>{const j=L(a,m);let N=u;if(j){const C=j._f;C&&(!C.disabled&&re(i,m,Ra(u,C)),N=ns(C.ref)&&Ne(u)?"":u,La(C.ref)?[...C.ref.options].forEach(T=>T.selected=N.includes(T.value)):C.refs?$t(C.ref)?C.refs.forEach(T=>{(!T.defaultChecked||!T.disabled)&&(Array.isArray(N)?T.checked=!!N.find(H=>H===T.value):T.checked=N===T.value||!!N)}):C.refs.forEach(T=>T.checked=T.value===N):ir(C.ref)?C.ref.value="":(C.ref.value=N,C.ref.type||w.state.next({name:m,values:xe(i)})))}(f.shouldDirty||f.shouldTouch)&&se(m,N,f.shouldTouch,f.shouldDirty,!0),f.shouldValidate&&je(m)},ae=(m,u,f)=>{for(const j in u){if(!u.hasOwnProperty(j))return;const N=u[j],C=m+"."+j,T=L(a,C);(c.array.has(m)||he(N)||T&&!T._f)&&!dt(N)?ae(C,N,f):U(C,N,f)}},X=(m,u,f={})=>{const j=L(a,m),N=c.array.has(m),C=xe(u);re(i,m,C),N?(w.array.next({name:m,values:xe(i)}),(g.isDirty||g.dirtyFields||v.isDirty||v.dirtyFields)&&f.shouldDirty&&w.state.next({name:m,dirtyFields:vt(n,i),isDirty:$(m,C)})):j&&!j._f&&!Ne(C)?ae(m,C,f):U(m,C,f),Mr(m,c)?w.state.next({...r,name:m,values:xe(i)}):w.state.next({name:o.mount?m:void 0,values:xe(i)})},ve=async m=>{o.mount=!0;const u=m.target;let f=u.name,j=!0;const N=L(a,f),C=Q=>{j=Number.isNaN(Q)||dt(Q)&&isNaN(Q.getTime())||tt(Q,L(i,f,Q))},T=Or(e.mode),H=Or(e.reValidateMode);if(N){let Q,de;const lt=u.type?Pr(N._f):vl(m),Ge=m.type===kr.BLUR||m.type===kr.FOCUS_OUT,Xa=!Ll(N._f)&&!e.resolver&&!L(r.errors,f)&&!N._f.deps||Rl(Ge,L(r.touchedFields,f),r.isSubmitted,H,T),gs=Mr(f,c,Ge);re(i,f,lt),Ge?(!u||!u.readOnly)&&(N._f.onBlur&&N._f.onBlur(m),d&&d(0)):N._f.onChange&&N._f.onChange(m);const ps=se(f,lt,Ge),Ga=!ye(ps)||gs;if(!Ge&&w.state.next({name:f,type:m.type,values:xe(i)}),Xa)return(g.isValid||v.isValid)&&(e.mode==="onBlur"?Ge&&S():Ge||S()),Ga&&w.state.next({name:f,...gs?{}:ps});if(!Ge&&gs&&w.state.next({...r}),e.resolver){const{errors:dr}=await G([f]);if(O([f]),C(lt),j){const Ja=Tr(r.errors,a,f),mr=Tr(dr,a,Ja.name||f);Q=mr.error,f=mr.name,de=ye(dr)}}else O([f],!0),Q=(await Lr(N,c.disabled,i,F,e.shouldUseNativeValidation))[f],O([f]),C(lt),j&&(Q?de=!1:(g.isValid||v.isValid)&&(de=await I(a,!0)));j&&(N._f.deps&&(!Array.isArray(N._f.deps)||N._f.deps.length>0)&&je(N._f.deps),P(f,de,Q,ps))}},we=(m,u)=>{if(L(r.errors,u)&&m.focus)return m.focus(),1},je=async(m,u={})=>{let f,j;const N=Ft(m);if(e.resolver){const C=await K(ne(m)?m:N);f=ye(C),j=m?!N.some(T=>L(C,T)):f}else m?(j=(await Promise.all(N.map(async C=>{const T=L(a,C);return await I(T&&T._f?{[C]:T}:T)}))).every(Boolean),!(!j&&!r.isValid)&&S()):j=f=await I(a);return w.state.next({...!Se(m)||(g.isValid||v.isValid)&&f!==r.isValid?{}:{name:m},...e.resolver||!m?{isValid:f}:{},errors:r.errors}),u.shouldFocus&&!j&&Lt(a,we,m?N:c.mount),j},Ke=(m,u)=>{let f={...o.mount?i:n};return u&&(f=Fa(u.dirtyFields?r.dirtyFields:r.touchedFields,f)),ne(m)?f:Se(m)?L(f,m):m.map(j=>L(f,j))},pe=(m,u)=>({invalid:!!L((u||r).errors,m),isDirty:!!L((u||r).dirtyFields,m),error:L((u||r).errors,m),isValidating:!!L(r.validatingFields,m),isTouched:!!L((u||r).touchedFields,m)}),ce=m=>{m&&Ft(m).forEach(u=>me(r.errors,u)),w.state.next({errors:m?r.errors:{}})},A=(m,u,f)=>{const j=(L(a,m,{_f:{}})._f||{}).ref,N=L(r.errors,m)||{},{ref:C,message:T,type:H,...Q}=N;re(r.errors,m,{...Q,...u,ref:j}),w.state.next({name:m,errors:r.errors,isValid:!1}),f&&f.shouldFocus&&j&&j.focus&&j.focus()},te=(m,u)=>Te(m)?w.state.subscribe({next:f=>"values"in f&&m(R(void 0,u),f)}):R(m,u,!0),Z=m=>w.state.subscribe({next:u=>{Il(m.name,u.name,m.exact)&&Dl(u,m.formState||g,p,m.reRenderRoot)&&m.callback({values:{...i},...r,...u,defaultValues:n})}}).unsubscribe,ze=m=>(o.mount=!0,v={...v,...m.formState},Z({...m,formState:{...x,...m.formState}})),Ie=(m,u={})=>{for(const f of m?Ft(m):c.mount)c.mount.delete(f),c.array.delete(f),u.keepValue||(me(a,f),me(i,f)),!u.keepError&&me(r.errors,f),!u.keepDirty&&me(r.dirtyFields,f),!u.keepTouched&&me(r.touchedFields,f),!u.keepIsValidating&&me(r.validatingFields,f),!e.shouldUnregister&&!u.keepDefaultValue&&me(n,f);w.state.next({values:xe(i)}),w.state.next({...r,...u.keepDirty?{isDirty:$()}:{}}),!u.keepIsValid&&S()},xt=({disabled:m,name:u})=>{(Re(m)&&o.mount||m||c.disabled.has(u))&&(m?c.disabled.add(u):c.disabled.delete(u))},Ee=(m,u={})=>{let f=L(a,m);const j=Re(u.disabled)||Re(e.disabled);return re(a,m,{...f||{},_f:{...f&&f._f?f._f:{ref:{name:m}},name:m,mount:!0,...u}}),c.mount.add(m),f?xt({disabled:Re(u.disabled)?u.disabled:e.disabled,name:m}):q(m,!0,u.value),{...j?{disabled:u.disabled||e.disabled}:{},...e.progressive?{required:!!u.required,min:Pt(u.min),max:Pt(u.max),minLength:Pt(u.minLength),maxLength:Pt(u.maxLength),pattern:Pt(u.pattern)}:{},name:m,onChange:ve,onBlur:ve,ref:N=>{if(N){Ee(m,u),f=L(a,m);const C=ne(N.value)&&N.querySelectorAll&&N.querySelectorAll("input,select,textarea")[0]||N,T=Pl(C),H=f._f.refs||[];if(T?H.find(Q=>Q===C):C===f._f.ref)return;re(a,m,{_f:{...f._f,...T?{refs:[...H.filter(Ns),C,...Array.isArray(L(n,m))?[{}]:[]],ref:{type:C.type,name:m}}:{ref:C}}}),q(m,!1,void 0,C)}else f=L(a,m,{}),f._f&&(f._f.mount=!1),(e.shouldUnregister||u.shouldUnregister)&&!(jl(c.array,m)&&o.action)&&c.unMount.add(m)}}},Xe=()=>e.shouldFocusError&&Lt(a,we,c.mount),nt=m=>{Re(m)&&(w.state.next({disabled:m}),Lt(a,(u,f)=>{const j=L(a,f);j&&(u.disabled=j._f.disabled||m,Array.isArray(j._f.refs)&&j._f.refs.forEach(N=>{N.disabled=j._f.disabled||m}))},0,!1))},it=(m,u)=>async f=>{let j;f&&(f.preventDefault&&f.preventDefault(),f.persist&&f.persist());let N=xe(i);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:C,values:T}=await G();O(),r.errors=C,N=xe(T)}else await I(a);if(c.disabled.size)for(const C of c.disabled)me(N,C);if(me(r.errors,"root"),ye(r.errors)){w.state.next({errors:{}});try{await m(N,f)}catch(C){j=C}}else u&&await u({...r.errors},f),Xe(),setTimeout(Xe);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ye(r.errors)&&!j,submitCount:r.submitCount+1,errors:r.errors}),j)throw j},gt=(m,u={})=>{L(a,m)&&(ne(u.defaultValue)?X(m,xe(L(n,m))):(X(m,u.defaultValue),re(n,m,xe(u.defaultValue))),u.keepTouched||me(r.touchedFields,m),u.keepDirty||(me(r.dirtyFields,m),r.isDirty=u.defaultValue?$(m,xe(L(n,m))):$()),u.keepError||(me(r.errors,m),g.isValid&&S()),w.state.next({...r}))},ot=(m,u={})=>{const f=m?xe(m):n,j=xe(f),N=ye(m),C=N?n:j;if(u.keepDefaultValues||(n=f),!u.keepValues){if(u.keepDirtyValues){const T=new Set([...c.mount,...Object.keys(vt(n,i))]);for(const H of Array.from(T)){const Q=L(r.dirtyFields,H),de=L(i,H),lt=L(C,H);Q&&!ne(de)?re(C,H,de):!Q&&!ne(lt)&&X(H,lt)}}else{if(rr&&ne(m))for(const T of c.mount){const H=L(a,T);if(H&&H._f){const Q=Array.isArray(H._f.refs)?H._f.refs[0]:H._f.ref;if(ns(Q)){const de=Q.closest("form");if(de){de.reset();break}}}}if(u.keepFieldsRef)for(const T of c.mount)X(T,L(C,T));else a={}}i=e.shouldUnregister?u.keepDefaultValues?xe(n):{}:xe(C),w.array.next({values:{...C}}),w.state.next({values:{...C}})}c={mount:u.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!g.isValid||!!u.keepIsValid||!!u.keepDirtyValues||!e.shouldUnregister&&!ye(C),o.watch=!!e.shouldUnregister,o.keepIsValid=!!u.keepIsValid,o.action=!1,u.keepErrors||(r.errors={}),w.state.next({submitCount:u.keepSubmitCount?r.submitCount:0,isDirty:N?!1:u.keepDirty?r.isDirty:!!(u.keepDefaultValues&&!tt(m,n)),isSubmitted:u.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:N?{}:u.keepDirtyValues?u.keepDefaultValues&&i?vt(n,i):r.dirtyFields:u.keepDefaultValues&&m?vt(n,m):u.keepDirty?r.dirtyFields:{},touchedFields:u.keepTouched?r.touchedFields:{},errors:u.keepErrors?r.errors:{},isSubmitSuccessful:u.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},M=(m,u)=>ot(Te(m)?m(i):m,{...e.resetOptions,...u}),Y=(m,u={})=>{const f=L(a,m),j=f&&f._f;if(j){const N=j.refs?j.refs[0]:j.ref;N.focus&&setTimeout(()=>{N.focus(),u.shouldSelect&&Te(N.select)&&N.select()})}},p=m=>{r={...r,...m}},E={control:{register:Ee,unregister:Ie,getFieldState:pe,handleSubmit:it,setError:A,_subscribe:Z,_runSchema:G,_updateIsValidating:O,_focusError:Xe,_getWatch:R,_getDirty:$,_setValid:S,_setFieldArray:b,_setDisabledField:xt,_setErrors:V,_getFieldArray:ee,_reset:ot,_resetDefaultValues:()=>Te(e.defaultValues)&&e.defaultValues().then(m=>{M(m,e.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:le,_disableForm:nt,_subjects:w,_proxyFormState:g,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(m){o=m},get _defaultValues(){return n},get _names(){return c},set _names(m){c=m},get _formState(){return r},get _options(){return e},set _options(m){e={...e,...m}}},subscribe:ze,trigger:je,register:Ee,handleSubmit:it,watch:te,setValue:X,getValues:Ke,reset:M,resetField:gt,clearErrors:ce,unregister:Ie,setError:A,setFocus:Y,getFieldState:pe};return{...E,formControl:E}}function xs(t={}){const e=ke.useRef(void 0),r=ke.useRef(void 0),[a,n]=ke.useState({isDirty:!1,isValidating:!1,isLoading:Te(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Te(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:a},t.defaultValues&&!Te(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...c}=Vl(t);e.current={...c,formState:a}}const i=e.current.control;return i._options=t,Sl(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(c=>({...c,isReady:!0})),i._formState.isReady=!0,o},[i]),ke.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ke.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ke.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ke.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ke.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),ke.useEffect(()=>{var o;t.values&&!tt(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=t.values,n(c=>({...c}))):i._resetDefaultValues()},[i,t.values]),ke.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Cl(a,i),e.current}const qa=({isOpen:t,onClose:e,onSwitchToSignup:r})=>{const{setAuth:a}=De(),[n,i]=l.useState(!1),o=Qe(),{register:c,handleSubmit:d,formState:{errors:h},reset:x}=xs(),g=async v=>{var w,F;i(!0);try{console.log("Submitting login with:",v);const y=await qe.login(v);console.log("Auth response received:",y),a(y.token,y.user),oe.success("Login successful!"),x(),e()}catch(y){console.error("Full login error:",y),console.error("Error response:",y.response);const S=((F=(w=y.response)==null?void 0:w.data)==null?void 0:F.message)||"Login failed. Please try again.";oe.error(S)}finally{i(!1)}};return s.jsx(_e.Root,{show:t,as:l.Fragment,children:s.jsxs(Ae,{as:"div",className:"relative z-50",onClose:e,children:[s.jsx(_e.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),s.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:p-0",children:s.jsx(_e.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:s.jsxs(Ae.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-md sm:p-6",children:[s.jsx("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:s.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:e,children:[s.jsx("span",{className:"sr-only",children:"Close"}),s.jsx(qt,{className:"h-6 w-6","aria-hidden":"true"})]})}),s.jsx("div",{className:"sm:flex sm:items-start",children:s.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[s.jsx(Ae.Title,{as:"h3",className:"text-2xl font-bold leading-6 text-gray-900 mb-6",children:"Sign in to your account"}),s.jsxs("form",{onSubmit:d(g),className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"identifier",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email or Phone"}),s.jsx("input",{id:"identifier",type:"text",autoComplete:"username",...c("identifier",{required:"Email or phone is required"}),className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Email or phone number"}),h.identifier&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.identifier.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsx("input",{id:"password",type:"password",autoComplete:"current-password",...c("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Password"}),h.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.password.message})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),s.jsx("div",{className:"text-sm",children:s.jsx("button",{type:"button",onClick:()=>{e(),o("/reset-password")},className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot password?"})})]}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Signing in...":"Sign in"})}),s.jsxs("div",{className:"text-center text-sm text-gray-600 mt-4",children:["Don't have an account?"," ",s.jsx("button",{type:"button",onClick:r,className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign up"})]})]})]})})]})})})})]})})},$a=({isOpen:t,onClose:e,onSwitchToLogin:r})=>{const{setAuth:a}=De(),[n,i]=l.useState(!1),{register:o,handleSubmit:c,formState:{errors:d},watch:h,reset:x}=xs(),g=h("password"),v=async w=>{var F,y;i(!0);try{const{confirmPassword:S,...O}=w,b=await qe.signup(O);a(b.token,b.user),oe.success("Account created successfully!"),x(),e()}catch(S){const O=((y=(F=S.response)==null?void 0:F.data)==null?void 0:y.message)||"Signup failed. Please try again.";oe.error(O),console.error("Signup error:",S)}finally{i(!1)}};return s.jsx(_e.Root,{show:t,as:l.Fragment,children:s.jsxs(Ae,{as:"div",className:"relative z-50",onClose:e,children:[s.jsx(_e.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),s.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center sm:p-0",children:s.jsx(_e.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:s.jsxs(Ae.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-md sm:p-6",children:[s.jsx("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:s.jsxs("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none",onClick:e,children:[s.jsx("span",{className:"sr-only",children:"Close"}),s.jsx(qt,{className:"h-6 w-6","aria-hidden":"true"})]})}),s.jsx("div",{className:"sm:flex sm:items-start",children:s.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[s.jsx(Ae.Title,{as:"h3",className:"text-2xl font-bold leading-6 text-gray-900 mb-6",children:"Create your account"}),s.jsxs("form",{onSubmit:c(v),className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),s.jsx("input",{id:"name",type:"text",autoComplete:"name",...o("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"John Doe"}),d.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.name.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{id:"email",type:"email",autoComplete:"email",...o("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"you@example.com"}),d.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.email.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),s.jsx("input",{id:"phone",type:"tel",autoComplete:"tel",...o("phone",{pattern:{value:/^[0-9]{10}$/,message:"Phone number must be 10 digits"}}),className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"1234567890"}),d.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.phone.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsx("input",{id:"password",type:"password",autoComplete:"new-password",...o("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:""}),d.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.password.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),s.jsx("input",{id:"confirmPassword",type:"password",autoComplete:"new-password",...o("confirmPassword",{required:"Please confirm your password",validate:w=>w===g||"Passwords do not match"}),className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:""}),d.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.confirmPassword.message})]}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Creating account...":"Create account"})}),s.jsxs("div",{className:"text-center text-sm text-gray-600 mt-4",children:["Already have an account?"," ",s.jsx("button",{type:"button",onClick:r,className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})]})]})]})})]})})})})]})})},ft=na()(Ea((t,e)=>({items:[],addItem:r=>{const a=e().items.find(n=>n.serviceId===r.serviceId);t(a?{items:e().items.map(n=>n.serviceId===r.serviceId?{...n,quantity:n.quantity+1}:n)}:{items:[...e().items,{...r,quantity:1}]})},removeItem:r=>{t({items:e().items.filter(a=>a.serviceId!==r)})},updateQuantity:(r,a)=>{if(a<=0){e().removeItem(r);return}t({items:e().items.map(n=>n.serviceId===r?{...n,quantity:a}:n)})},clearCart:()=>{t({items:[]})},getTotalPrice:()=>e().items.reduce((r,a)=>r+a.price*a.quantity,0),getTotalItems:()=>e().items.reduce((r,a)=>r+a.quantity,0)}),{name:"cart-storage"})),Wl=({isOpen:t,onClose:e})=>{const r=Qe(),{items:a,removeItem:n,updateQuantity:i,getTotalPrice:o,clearCart:c}=ft(),{user:d}=De(),h=o(),x=()=>{if(!d){oe.error("Please login to proceed to checkout"),e(),r("/login");return}e(),r("/checkout")};return s.jsx(_e.Root,{show:t,as:l.Fragment,children:s.jsxs(Ae,{as:"div",className:"relative z-50",onClose:e,children:[s.jsx(_e.Child,{as:l.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),s.jsx("div",{className:"fixed inset-0 overflow-hidden",children:s.jsx("div",{className:"absolute inset-0 overflow-hidden",children:s.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10",children:s.jsx(_e.Child,{as:l.Fragment,enter:"transform transition ease-in-out duration-300",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-300",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:s.jsx(Ae.Panel,{className:"pointer-events-auto w-screen max-w-md",children:s.jsxs("div",{className:"flex h-full flex-col bg-white shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-6 border-b",children:[s.jsx(Ae.Title,{className:"text-lg font-semibold text-gray-900",children:"Shopping Cart"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:s.jsx(qt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-6",children:a.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ul,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Your cart is empty"})]}):s.jsx("div",{className:"space-y-4",children:a.map(g=>s.jsxs("div",{className:"flex items-start space-x-4 border-b pb-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-md overflow-hidden bg-gray-100 flex-shrink-0 border border-gray-200 flex items-center justify-center",children:g.imageUrl?s.jsx("img",{src:g.imageUrl,alt:g.serviceName,className:"w-full h-full object-cover"}):s.jsx(Bt,{className:"w-6 h-6 text-gray-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:g.serviceName}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.categoryName}),s.jsxs("p",{className:"text-sm font-semibold text-primary-600 mt-2",children:["",g.price]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>i(g.serviceId,g.quantity-1),className:"p-1 rounded-md border border-gray-300 hover:bg-gray-50",children:s.jsx(Go,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-sm font-medium w-8 text-center",children:g.quantity}),s.jsx("button",{onClick:()=>i(g.serviceId,g.quantity+1),className:"p-1 rounded-md border border-gray-300 hover:bg-gray-50",children:s.jsx(tr,{className:"w-4 h-4"})})]}),s.jsx("button",{onClick:()=>n(g.serviceId),className:"text-red-500 hover:text-red-700",children:s.jsx(es,{className:"w-5 h-5"})})]},g.serviceId))})}),a.length>0&&s.jsxs("div",{className:"border-t px-4 py-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:"text-base font-medium text-gray-900",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:["",h.toFixed(2)]})]}),s.jsx("button",{onClick:x,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-primary-700 transition-colors mb-2",children:"Proceed to Checkout"}),s.jsx("button",{onClick:c,className:"w-full border border-gray-300 text-gray-700 py-2 px-4 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Clear Cart"})]})]})})})})})})]})})},Ul=({className:t})=>s.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),zl=()=>{const[t,e]=l.useState(!1),r=ft(a=>a.getTotalItems());return s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>e(!0),className:"relative p-2 text-gray-700 hover:text-primary-600 transition-colors",children:[s.jsx(ol,{className:"w-6 h-6"}),r>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:r})]}),s.jsx(Wl,{isOpen:t,onClose:()=>e(!1)})]})},ht={async getServices(){return(await z.get("/customer/services")).data.data},async getServiceDetail(t){return(await z.get(`/customer/services/${t}`)).data.data},async searchServices(t){return(await z.get(`/customer/services/search?keyword=${t}`)).data.data}},Yl="/assets/apple-icon-CAmAZR1q.png",Hl=()=>{const t=Qe(),{user:e,token:r,clearAuth:a}=De(),[n,i]=l.useState(!1),[o,c]=l.useState(!1),[d,h]=l.useState(""),[x,g]=l.useState([]),[v,w]=l.useState(!1),[F,y]=l.useState(!1),S=l.useRef(void 0),O=P=>{if(P){if(P.category&&typeof P.category=="object"&&P.category._id)return P.category._id;if(P.category&&typeof P.category=="string")return P.category;if(P.categoryId)return P.categoryId}},b=async P=>{var K;let G=O(P);if(!G)try{const I=await ht.getServiceDetail(P._id);G=O(I)||((K=I==null?void 0:I.category)==null?void 0:K._id)}catch(I){console.warn("Failed to fetch service detail for navigation",I)}G?(y(!1),h(""),g([]),t(`/service/${P._id}`)):(oe.error("Unable to open service. Please try from Services page."),t("/services"))},_=async()=>{try{await qe.logout(),a(),oe.success("Logged out successfully"),t("/")}catch(P){console.error("Logout error:",P),a(),t("/")}},V=()=>{i(!1),c(!0)},q=()=>{c(!1),i(!0)},se=async P=>{const G=P.trim();if(G.length<2){g([]);return}try{w(!0);const K=await ht.searchServices(G);g(K||[]),y(!0)}finally{w(!1)}};return l.useEffect(()=>(S.current&&window.clearTimeout(S.current),S.current=window.setTimeout(()=>{se(d)},300),()=>{S.current&&window.clearTimeout(S.current)}),[d]),s.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx(ie,{to:"/",className:"flex items-center","aria-label":"Go to Fixzep home",children:s.jsx("img",{src:Yl,alt:"Fixzep",className:"h-auto w-auto"})}),s.jsxs("div",{className:"hidden md:block relative w-full max-w-xl",children:[s.jsx("input",{value:d,onChange:P=>h(P.target.value),onFocus:()=>y(!0),placeholder:"Search services (e.g., AC repair)",className:"w-full px-4 py-2.5 rounded-full border border-gray-300 bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-200 focus:border-gray-500"}),F&&(x.length>0||v)&&s.jsxs("div",{className:"absolute left-0 right-0 mt-2 rounded-lg border border-gray-200 bg-white shadow-lg z-20 max-h-80 overflow-auto",children:[v&&s.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"Searching"}),!v&&x.map(P=>{var G;return s.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-gray-50 flex items-start gap-3",onMouseDown:K=>K.preventDefault(),onClick:()=>b(P),children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:P.name}),s.jsx("p",{className:"text-xs text-gray-500",children:(G=P.category)==null?void 0:G.name})]}),s.jsxs("span",{className:"text-xs font-semibold text-gray-700",children:["",P.basePrice]})]},P._id)}),!v&&x.length===0&&s.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No results"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(zl,{}),r&&e&&s.jsx(ie,{to:"/orders",className:"inline-flex items-center justify-center w-10 h-10 rounded-lg text-gray-700 hover:text-primary-600 hover:border-primary-400 transition-colors","aria-label":"Order history",children:s.jsx(To,{className:"w-6 h-6"})}),r&&e?s.jsxs(pt,{as:"div",className:"relative inline-block text-left",children:[s.jsx("div",{children:s.jsxs(pt.Button,{className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-900 hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 rounded-lg transition-colors",children:[s.jsxs("span",{children:["Welcome, ",e.name]}),s.jsx(Eo,{className:"w-5 h-5 ml-2 -mr-1","aria-hidden":"true"})]})}),s.jsx(_e,{as:"div",enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:s.jsxs(pt.Items,{className:"absolute right-0 z-10 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[s.jsxs("div",{className:"py-1",children:[s.jsx(pt.Item,{children:({active:P})=>s.jsxs(ie,{to:"/profile",className:`${P?"bg-gray-100 text-gray-900":"text-gray-700"} group flex items-center px-4 py-2 text-sm`,children:[s.jsx("svg",{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile"]})}),s.jsx(pt.Item,{children:({active:P})=>s.jsxs(ie,{to:"/orders",className:`${P?"bg-gray-100 text-gray-900":"text-gray-700"} group flex items-center px-4 py-2 text-sm`,children:[s.jsx("svg",{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"My Orders"]})})]}),s.jsx("div",{className:"py-1",children:s.jsx(pt.Item,{children:({active:P})=>s.jsxs("button",{onClick:_,className:`${P?"bg-gray-100 text-gray-900":"text-gray-700"} group flex w-full items-center px-4 py-2 text-sm`,children:[s.jsx("svg",{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>i(!0),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-primary-600 transition-colors",children:"Login"}),s.jsx("button",{onClick:()=>c(!0),className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 transition-colors",children:"Sign Up"})]})]})]})}),s.jsx(qa,{isOpen:n,onClose:()=>i(!1),onSwitchToSignup:V}),s.jsx($a,{isOpen:o,onClose:()=>c(!1),onSwitchToLogin:q})]})},Zl=()=>s.jsx("div",{className:"bg-primary-700 text-white py-2",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 text-xs sm:text-sm",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(ut,{className:"w-4 h-4"}),s.jsxs("span",{children:["Currently serving ",s.jsx("strong",{children:"OMR (Old Mahabalipuram Road), Chennai"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("a",{href:"https://fixzep-homeplus-j8g99x7.gamma.site/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-3 py-1 rounded-full border border-white/60 text-[11px] sm:text-xs font-medium text-white/90 hover:bg-white/10 transition-colors",children:"Home+"}),s.jsx("a",{href:"https://fixzep-ops-5gu8q5q.gamma.site/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-3 py-1 rounded-full border border-white/60 text-[11px] sm:text-xs font-medium text-white/90 hover:bg-white/10 transition-colors",children:"Ops+"})]})]})})}),Ql={async getBanners(t){const e=t!==void 0?{isActive:t}:{};return(await z.get("/banners",{params:e})).data.data},async getBanner(t){return(await z.get(`/banners/${t}`)).data.data}},Va=()=>{const[t,e]=l.useState(0),{data:r,isLoading:a,error:n}=ge({queryKey:["banners",!0],queryFn:()=>Ql.getBanners(!0)}),i=r||[];l.useEffect(()=>{if(i.length>1){const x=setInterval(()=>{e(g=>(g+1)%i.length)},5e3);return()=>clearInterval(x)}},[i.length]);const o=()=>{e(x=>(x+1)%i.length)},c=()=>{e(x=>(x-1+i.length)%i.length)},d=x=>{e(x)};if(a)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading banners..."})]})});if(n)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-red-600",children:"Failed to load banners"})})});if(!i.length)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-gray-600",children:"No active banners available"})})});const h=i[t];return s.jsx("div",{className:"bg-gray-50",children:s.jsxs("div",{className:"relative h-[600px] overflow-hidden bg-gray-900",children:[s.jsx(sn,{mode:"wait",children:s.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"relative h-full",children:[s.jsx("img",{src:h.imageUrl,alt:h.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 to-black/30",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center",children:s.jsxs("div",{className:"max-w-2xl text-white",children:[s.jsx(B.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-5xl md:text-6xl font-bold mb-4",children:h.title}),h.subtitle&&s.jsx(B.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-xl md:text-2xl mb-8 text-gray-200",children:h.subtitle}),h.link&&s.jsx(B.a,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},href:h.link,className:"inline-block px-8 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors",children:"Learn More"})]})})})]},t)}),i.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:c,className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/30 hover:bg-white/50 backdrop-blur-sm transition-all","aria-label":"Previous banner",children:s.jsx(Oo,{className:"h-6 w-6 text-white"})}),s.jsx("button",{onClick:o,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/30 hover:bg-white/50 backdrop-blur-sm transition-all","aria-label":"Next banner",children:s.jsx(Jt,{className:"h-6 w-6 text-white"})})]}),i.length>1&&s.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex space-x-2",children:i.map((x,g)=>s.jsx("button",{onClick:()=>d(g),className:`w-3 h-3 rounded-full transition-all ${g===t?"bg-white w-8":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${g+1}`},g))})]})})},Kl=()=>{const{data:t,isLoading:e,error:r}=ge({queryKey:["services"],queryFn:ht.getServices});return e?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[...Array(6)].map((a,n)=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"bg-gray-300 rounded-lg h-48 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]},n))}):r?s.jsx("div",{className:"text-center text-red-600 py-8",children:"Failed to load services. Please try again later."}):!t||t.length===0?s.jsx("div",{className:"text-center text-gray-600 py-8",children:"No services available at the moment."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:t.map((a,n)=>{var i;return s.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:n*.05},viewport:{once:!0},className:"group h-full",children:s.jsxs(ie,{to:`/services/${a._id}`,className:"flex flex-col h-full bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[a.heroImage?s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:a.heroImage,alt:a.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:s.jsx("h3",{className:"text-lg font-semibold text-white",children:a.name})})]}):s.jsx("div",{className:"relative h-48 bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:a.name})]})}),s.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 flex-grow",children:a.description||"Professional service solutions"}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:[((i=a.services)==null?void 0:i.length)||0," services"]}),s.jsx("span",{className:"text-primary-600 text-sm font-medium group-hover:text-primary-700",children:"View "})]})]})]})},a._id)})})},Xl=()=>{const{addItem:t,items:e,updateQuantity:r}=ft(),{data:a,isLoading:n}=ge({queryKey:["services"],queryFn:ht.getServices}),i=a==null?void 0:a.flatMap(d=>d.services.map(h=>({...h,categoryName:d.name,categoryId:d._id,imageUrl:h.imageUrl}))).slice(0,6),o=d=>{t({serviceId:d._id,serviceName:d.name,categoryId:d.categoryId,categoryName:d.categoryName,price:d.basePrice,duration:d.duration,imageUrl:d.imageUrl}),D.success(`${d.name} added to cart!`)},c=d=>{const h=e.find(x=>x.serviceId===d);return(h==null?void 0:h.quantity)||0};return n?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[1,2,3,4,5,6].map(d=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"bg-gray-300 rounded-lg h-48 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]},d))}):!i||i.length===0?null:s.jsxs("div",{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:i.map((d,h)=>s.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:h*.05},viewport:{once:!0},className:"group h-full relative",children:[s.jsx("div",{className:"absolute top-3 right-3 z-10",children:s.jsxs("span",{className:"bg-yellow-400 text-yellow-900 text-xs font-bold px-2.5 py-1 rounded-full shadow-lg flex items-center",children:[s.jsx(cl,{className:"w-3 h-3 mr-1"}),"Popular"]})}),s.jsxs("div",{className:"flex flex-col h-full bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[d.imageUrl?s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:d.imageUrl,alt:d.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:x=>{const g=x.target;g.style.display="none";const v=g.parentElement;v&&(v.innerHTML=`
                          <div class="absolute inset-0 bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center">
                            <svg class="w-16 h-16 text-white/40" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                            </svg>
                          </div>
                        `)}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:s.jsx("h3",{className:"text-lg font-semibold text-white line-clamp-2",children:d.name})})]}):s.jsx("div",{className:"relative h-48 bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Bt,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-white line-clamp-2",children:d.name})]})}),s.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 flex-grow mb-3",children:d.description||"Professional service solution"}),s.jsxs("div",{className:"space-y-2 mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:d.categoryName}),d.duration&&s.jsxs("div",{className:"flex items-center text-gray-500",children:[s.jsx(rt,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:[d.duration," min"]})]})]}),s.jsxs("div",{className:"flex items-center text-xl font-bold text-primary-600",children:[s.jsx(Rt,{className:"w-5 h-5"}),s.jsx("span",{children:d.basePrice})]})]}),s.jsxs("div",{className:"flex gap-2 mt-auto items-center",children:[c(d._id)===0?s.jsx("button",{onClick:x=>{x.preventDefault(),o(d)},className:"flex-1 bg-primary-600 text-white py-2 px-3 rounded-lg text-sm font-semibold hover:bg-primary-700 transition-colors",children:"Add to Cart"}):s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden",children:[s.jsx("button",{onClick:x=>{x.preventDefault();const g=c(d._id);r(d._id,g-1)},className:"px-3 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100","aria-label":"Decrease quantity",children:""}),s.jsx("span",{className:"px-4 py-2 text-sm font-semibold text-gray-900 bg-white",children:c(d._id)}),s.jsx("button",{onClick:x=>{x.preventDefault();const g=c(d._id);r(d._id,g+1)},className:"px-3 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100","aria-label":"Increase quantity",children:"+"})]}),s.jsx(ie,{to:`/services/${d.categoryId}`,className:"flex items-center justify-center bg-gray-100 text-gray-700 py-2 px-3 rounded-lg hover:bg-gray-200 transition-colors",title:"View Details",children:s.jsx(vr,{className:"w-4 h-4"})})]})]})]})]},d._id))}),s.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-center mt-8",children:s.jsxs(ie,{to:"/",className:"inline-flex items-center text-primary-600 hover:text-primary-700 font-semibold text-lg group",children:["View All Services",s.jsx(vr,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})};function Gl({title:t,titleId:e,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?l.createElement("title",{id:e},t):null,l.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Dr=l.forwardRef(Gl),Jl=()=>{const{addItem:t,items:e,updateQuantity:r}=ft(),{data:a,isLoading:n}=ge({queryKey:["services"],queryFn:ht.getServices}),i=a==null?void 0:a.flatMap(d=>d.services.map(h=>({...h,categoryName:d.name,categoryId:d._id,imageUrl:h.imageUrl}))).reverse().slice(0,6),o=d=>{t({serviceId:d._id,serviceName:d.name,categoryId:d.categoryId,categoryName:d.categoryName,price:d.basePrice,duration:d.duration,imageUrl:d.imageUrl}),D.success(`${d.name} added to cart!`)},c=d=>{const h=e.find(x=>x.serviceId===d);return(h==null?void 0:h.quantity)||0};return n?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[1,2,3,4,5,6].map(d=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"bg-gray-300 rounded-lg h-48 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]},d))}):!i||i.length===0?null:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:i.map((d,h)=>s.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:h*.05},viewport:{once:!0},className:"group h-full relative",children:[s.jsx("div",{className:"absolute top-3 right-3 z-10",children:s.jsxs("span",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white text-xs font-bold px-2.5 py-1 rounded-full shadow-lg flex items-center",children:[s.jsx(Dr,{className:"w-3 h-3 mr-1"}),"Top Rated"]})}),s.jsxs("div",{className:"flex flex-col h-full bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 cursor-pointer",children:[d.imageUrl?s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:d.imageUrl,alt:d.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:x=>{const g=x.target;g.style.display="none";const v=g.nextElementSibling;v&&(v.style.display="flex")}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:s.jsx("h3",{className:"text-lg font-semibold text-white",children:d.name})})]}):s.jsx("div",{className:"relative h-48 bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Bt,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:d.name})]})}),s.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 flex-grow",children:d.description||"Top rated professional service"}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(x=>s.jsx(Dr,{className:"w-3.5 h-3.5 text-amber-400"},x))}),s.jsx("span",{className:"ml-1 text-xs text-gray-600",children:"5.0"})]}),s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["",d.basePrice]})]}),c(d._id)===0?s.jsx("button",{onClick:()=>o(d),className:"mt-3 w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors font-medium text-sm flex items-center justify-center",children:"Add to Cart"}):s.jsx("div",{className:"mt-3 flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden",children:[s.jsx("button",{onClick:()=>r(d._id,c(d._id)-1),className:"px-3 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100","aria-label":"Decrease quantity",children:""}),s.jsx("span",{className:"px-4 py-2 text-sm font-semibold text-gray-900 bg-white",children:c(d._id)}),s.jsx("button",{onClick:()=>r(d._id,c(d._id)+1),className:"px-3 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100","aria-label":"Increase quantity",children:"+"})]})})]})]})]},d._id))})},ec="/assets/apple-icon-152x152-DIz4Ix-1.png",Wa=()=>s.jsxs("footer",{className:"bg-gray-900 text-gray-300",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(ie,{to:"/",className:"flex items-center","aria-label":"Go to Fixzep home",children:s.jsx("img",{src:ec,alt:"Fixzep",className:"h-auto w-auto bg-white"})}),s.jsx("p",{className:"text-sm text-gray-400",children:"Your trusted partner for all home repair and maintenance services in OMR, Chennai."}),s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx(ut,{className:"w-5 h-5 text-primary-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"Serving OMR (Old Mahabalipuram Road), Chennai"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx("li",{children:s.jsx(ie,{to:"/",className:"text-sm hover:text-primary-400 transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx(ie,{to:"/services",className:"text-sm hover:text-primary-400 transition-colors",children:"Services"})}),s.jsx("li",{children:s.jsx(ie,{to:"/orders",className:"text-sm hover:text-primary-400 transition-colors",children:"My Orders"})}),s.jsx("li",{children:s.jsx(ie,{to:"https://fixzep-f70o0sp.gamma.site",className:"text-sm hover:text-primary-400 transition-colors",children:"About"})}),s.jsx("li",{children:s.jsx(ie,{to:"/contact",className:"text-sm hover:text-primary-400 transition-colors",children:"Contact"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Our Services"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx("li",{className:"text-sm",children:"Plumbing Services"}),s.jsx("li",{className:"text-sm",children:"Electrical Services"}),s.jsx("li",{className:"text-sm",children:"Carpentry Services"}),s.jsx("li",{className:"text-sm",children:"Appliance Repair"}),s.jsx("li",{className:"text-sm",children:"Home Cleaning"}),s.jsx("li",{className:"text-sm",children:"Painting Services"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Contact Us"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ct,{className:"w-5 h-5 text-primary-400 flex-shrink-0"}),s.jsx("a",{href:"tel:+918065429026",className:"hover:text-primary-400 transition-colors",children:"+91 80654 29026"})]}),s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s.jsx(kt,{className:"w-5 h-5 text-primary-400 flex-shrink-0"}),s.jsx("a",{href:"mailto:info@fixzep.com",className:"hover:text-primary-400 transition-colors",children:"info@fixzep.com"})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h5",{className:"text-sm font-semibold text-white mb-3",children:"Follow Us"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-gray-800 flex items-center justify-center hover:bg-primary-600 transition-colors","aria-label":"Facebook",children:s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-gray-800 flex items-center justify-center hover:bg-primary-600 transition-colors","aria-label":"Twitter",children:s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),s.jsx("a",{href:"#",className:"w-8 h-8 rounded-full bg-gray-800 flex items-center justify-center hover:bg-primary-600 transition-colors","aria-label":"Instagram",children:s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"})})})]})]})]})]})}),s.jsx("div",{className:"border-t border-gray-800",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("p",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," Fixzep. All rights reserved."]}),s.jsxs("div",{className:"flex gap-6 text-sm",children:[s.jsx(ie,{to:"/privacy",className:"text-gray-400 hover:text-primary-400 transition-colors",children:"Privacy Policy"}),s.jsx(ie,{to:"/terms",className:"text-gray-400 hover:text-primary-400 transition-colors",children:"Terms of Service"}),s.jsx(ie,{to:"/refund",className:"text-gray-400 hover:text-primary-400 transition-colors",children:"Refund Policy"})]})]})})})]}),tc=()=>{const{user:t}=De();return s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("section",{className:"relative bg-gradient-to-br from-primary-600 to-primary-800 text-white",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:"Welcome to Fixzep"}),s.jsx("p",{className:"text-xl md:text-2xl mb-4 text-primary-100",children:"Your trusted partner for all home repair and maintenance services"}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary-100 mb-8",children:[s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{className:"text-lg font-medium",children:"Serving OMR, Chennai"})]})]})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:s.jsx("svg",{viewBox:"0 0 1440 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z",fill:"#F9FAFB"})})})]}),s.jsx("section",{className:"py-16 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Services"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Browse our wide range of professional services"})]}),s.jsx(Kl,{})]})}),s.jsx("section",{className:"py-16 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx(Va,{})})}),t&&s.jsx("section",{className:"py-16 bg-gradient-to-br from-gray-50 to-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Frequently Ordered Services"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Most popular services trusted by our customers"})]})}),s.jsx(Xl,{})]})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Top Rated Services"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Highly rated services loved by our customers"})]})}),s.jsx(Jl,{})]})}),s.jsx("section",{className:"py-16 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Why Choose Fixzep?"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Professional services at your doorstep"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verified Professionals"}),s.jsx("p",{className:"text-gray-600",children:"All our technicians are background-verified and highly skilled"})]}),s.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Quick Service"}),s.jsx("p",{className:"text-gray-600",children:"Same-day service available for urgent repairs"})]}),s.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Transparent Pricing"}),s.jsx("p",{className:"text-gray-600",children:"No hidden charges - know the cost before booking"})]})]})]})}),s.jsx("section",{className:"py-16 bg-gradient-to-r from-primary-600 to-primary-700",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:s.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to Get Started?"}),s.jsx("p",{className:"text-xl text-primary-100 mb-2",children:"Book a service now and experience the best home maintenance solutions"}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary-100 mb-8",children:[s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{className:"font-medium",children:"Available in OMR, Chennai"})]}),s.jsx(ie,{to:"/services",className:"inline-flex items-center justify-center px-8 py-4 border border-transparent text-lg font-medium rounded-lg text-primary-700 bg-white hover:bg-gray-50 transition-all transform hover:scale-105 shadow-lg",children:"Book Now"})]})})}),s.jsx(Wa,{})]})},sc=()=>{var F;const{categoryId:t}=Hs(),e=Qe(),[r]=an(),a=r.get("serviceId")||"",{addItem:n,items:i,updateQuantity:o}=ft(),{data:c,isLoading:d,error:h}=ge({queryKey:["services"],queryFn:ht.getServices}),x=c==null?void 0:c.find(y=>y._id===t);l.useEffect(()=>{if(!a)return;const y=document.getElementById(`svc-${a}`);y&&y.scrollIntoView({behavior:"smooth",block:"center"})},[a]);const g=y=>i.some(S=>S.serviceId===y),v=y=>{const S=i.find(O=>O.serviceId===y);return(S==null?void 0:S.quantity)||0},w=y=>{n({serviceId:y._id,serviceName:y.name,categoryId:x._id,categoryName:x.name,price:y.basePrice||0,duration:y.duration,imageUrl:y.imageUrl}),D.success(`${y.name} added to cart!`)};return d?s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"animate-pulse space-y-8",children:[s.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/4"}),s.jsx("div",{className:"h-64 bg-gray-300 rounded"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((y,S)=>s.jsx("div",{className:"h-48 bg-gray-300 rounded"},S))})]})})}):h||!x?s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Service category not found"}),s.jsx("button",{onClick:()=>e("/"),className:"text-primary-600 hover:text-primary-700 font-medium",children:" Back to Home"})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[s.jsxs("div",{className:"relative bg-gradient-to-br from-primary-600 to-primary-800 text-white",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs(B.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e("/"),className:"flex items-center text-white hover:text-primary-100 mb-8 transition-colors group",children:[s.jsx(rs,{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Services"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:x.name}),x.description&&s.jsx("p",{className:"text-lg text-primary-100 mb-6",children:x.description}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-primary-100",children:"Available"}),s.jsxs("p",{className:"font-semibold",children:[((F=x.services)==null?void 0:F.length)||0," Services"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-primary-100",children:"Service"}),s.jsx("p",{className:"font-semibold",children:"Same Day"})]})]})]})]}),x.heroImage&&s.jsxs(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"relative h-64 md:h-80 rounded-2xl overflow-hidden shadow-2xl",children:[s.jsx("img",{src:x.heroImage,alt:x.name,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]})]})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:s.jsx("svg",{viewBox:"0 0 1440 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z",fill:"white"})})})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Choose Your Service"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Select from our range of professional services"})]}),!x.services||x.services.length===0?s.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-sm",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Services Available"}),s.jsx("p",{className:"text-gray-500",children:"Check back soon for new services in this category"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.services.map((y,S)=>s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:S*.05},id:`svc-${y._id}`,className:`group h-full relative ${a===y._id?"ring-2 ring-primary-600 rounded-lg":""}`,onClick:()=>e(`/service/${y._id}`),children:[g(y._id)&&s.jsx("div",{className:"absolute top-4 right-4 z-10",children:s.jsxs("span",{className:"bg-green-500 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg flex items-center",children:[s.jsx(Aa,{className:"w-3.5 h-3.5 mr-1"}),"In Cart"]})}),s.jsxs("div",{className:`flex flex-col h-full bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 ${a===y._id?"bg-primary-50":""}`,children:[y.imageUrl?s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:y.imageUrl,alt:y.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:O=>{const b=O.target;b.style.display="none";const _=b.nextElementSibling;_&&(_.style.display="flex")}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:s.jsx("h3",{className:"text-lg font-semibold text-white",children:y.name})})]}):s.jsx("div",{className:"relative h-48 bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Bt,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:y.name})]})}),s.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 flex-grow mb-3",children:y.description||"Professional service"}),s.jsxs("div",{className:"flex items-center justify-between mb-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Rt,{className:"w-4 h-4 text-primary-600"}),s.jsxs("span",{className:"font-bold text-primary-600",children:["",y.basePrice]})]}),y.duration&&s.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[s.jsx(rt,{className:"w-4 h-4"}),s.jsxs("span",{children:[y.duration,"m"]})]})]}),v(y._id)===0?s.jsxs("button",{onClick:O=>{O.stopPropagation(),w(y)},className:"w-full py-2.5 px-4 rounded-lg font-medium transition-all flex items-center justify-center bg-primary-600 text-white hover:bg-primary-700",children:[s.jsx(tr,{className:"w-5 h-5 mr-2"}),"Add to Cart"]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden",children:[s.jsx("button",{onClick:O=>{O.stopPropagation(),o(y._id,v(y._id)-1)},className:"px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100","aria-label":"Decrease quantity",children:""}),s.jsx("span",{className:"px-5 py-2 text-sm font-semibold text-gray-900 bg-white",children:v(y._id)}),s.jsx("button",{onClick:O=>{O.stopPropagation(),o(y._id,v(y._id)+1)},className:"px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100","aria-label":"Increase quantity",children:"+"})]}),s.jsx("span",{className:"text-sm font-medium text-green-700 bg-green-50 px-3 py-1 rounded",children:"In cart"})]})]})]})]},y._id))})]})]})},rc=()=>{var x,g,v;const{serviceId:t}=Hs(),e=Qe(),{addItem:r,items:a,updateQuantity:n}=ft(),{data:i,isLoading:o,error:c}=ge({queryKey:["service-detail",t],queryFn:()=>ht.getServiceDetail(t||""),enabled:!!t}),d=i&&((x=a.find(w=>w.serviceId===i._id))==null?void 0:x.quantity)||0,h=()=>{i&&r({serviceId:i._id,serviceName:i.name,categoryId:i.category._id,categoryName:i.category.name,price:i.basePrice||0,duration:i.duration,imageUrl:i.imageUrl})};return t?o?s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"}),s.jsx("div",{className:"h-80 bg-gray-300 rounded-xl"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]})})}):c||!i?s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Service not available"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"This service might have been removed or is temporarily unavailable."}),s.jsx("button",{onClick:()=>e("/"),className:"text-primary-600 hover:text-primary-700 font-medium",children:" Back to Home"})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[s.jsxs("div",{className:"relative bg-gradient-to-br from-primary-600 to-primary-800 text-white",children:[s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[s.jsxs(B.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e(-1),className:"flex items-center text-white hover:text-primary-100 mb-6 transition-colors group",children:[s.jsx(rs,{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[s.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-primary-100 mb-2",children:((g=i.category)==null?void 0:g.name)||"Service"}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-3",children:i.name}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rt,{className:"w-5 h-5 text-white"}),s.jsxs("span",{className:"text-xl font-semibold",children:["",i.basePrice]})]}),i.duration&&s.jsxs("div",{className:"flex items-center gap-2 text-primary-100",children:[s.jsx(rt,{className:"w-5 h-5"}),s.jsxs("span",{children:[i.duration," mins"]})]})]})]}),s.jsxs(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4},className:"relative h-64 md:h-80 rounded-2xl overflow-hidden shadow-2xl bg-black/10",children:[i.imageUrl?s.jsx("img",{src:i.imageUrl,alt:i.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"flex h-full items-center justify-center bg-gradient-to-br from-primary-500 to-primary-700",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Bt,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:i.name})]})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]})]})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:s.jsx("svg",{viewBox:"0 0 1440 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M0 80L60 68.75C120 57.5 240 35 360 28.75C480 22.5 600 32.5 720 38.75C840 45 960 47.5 1080 45C1200 42.5 1320 35 1380 31.25L1440 27.5V80H1380C1320 80 1200 80 1080 80C960 80 840 80 720 80C600 80 480 80 360 80C240 80 120 80 60 80H0Z",fill:"white"})})})]}),s.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:s.jsxs("div",{className:"grid md:grid-cols-[2fr,1fr] gap-8 items-start",children:[s.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"What's included"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 text-sm text-gray-700",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:"Service details"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsxs("li",{children:["Category: ",(v=i.category)==null?void 0:v.name]}),s.jsxs("li",{children:["Base price: ",i.basePrice]}),i.duration&&s.jsxs("li",{children:["Estimated time: ",i.duration," minutes"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:"Good to know"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Final amount may vary based on on-site diagnosis."}),s.jsx("li",{children:"You can add multiple services to the same booking."}),s.jsx("li",{children:"Technicians are background-verified and trained."})]})]})]})]}),s.jsxs("div",{className:"space-y-4 bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Booking summary"}),s.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[s.jsx("span",{className:"text-gray-600",children:"Base price"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",i.basePrice]})]}),i.duration&&s.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[s.jsx("span",{className:"text-gray-600",children:"Estimated duration"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[i.duration," mins"]})]}),d===0?s.jsx("button",{onClick:h,className:"w-full py-2.5 px-4 rounded-lg font-medium transition-all flex items-center justify-center bg-primary-600 text-white hover:bg-primary-700",children:"Add to Cart"}):s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden",children:[s.jsx("button",{onClick:()=>n(i._id,d-1),className:"px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100","aria-label":"Decrease quantity",children:""}),s.jsx("span",{className:"px-5 py-2 text-sm font-semibold text-gray-900 bg-white",children:d}),s.jsx("button",{onClick:()=>n(i._id,d+1),className:"px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100","aria-label":"Increase quantity",children:"+"})]}),s.jsx("span",{className:"text-sm font-medium text-green-700 bg-green-50 px-3 py-1 rounded",children:"In cart"})]})}),d>0&&s.jsx("p",{className:"text-xs text-gray-500",children:"You can review this service and adjust quantities at checkout."})]})]})})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Service not found"}),s.jsx("button",{onClick:()=>e("/"),className:"text-primary-600 hover:text-primary-700 font-medium",children:" Back to Home"})]})})},ac={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nc=(t,e,r)=>{let a;const n=ac[t];return typeof n=="string"?a=n:e===1?a=n.one:a=n.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function ks(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const ic={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oc={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lc={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cc={date:ks({formats:ic,defaultWidth:"full"}),time:ks({formats:oc,defaultWidth:"full"}),dateTime:ks({formats:lc,defaultWidth:"full"})},dc={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mc=(t,e,r,a)=>dc[t];function Ot(t){return(e,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let n;if(a==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=r!=null&&r.width?String(r.width):o;n=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=r!=null&&r.width?String(r.width):t.defaultWidth;n=t.values[c]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return n[i]}}const uc={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hc={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fc={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xc={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gc={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pc={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yc=(t,e)=>{const r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},bc={ordinalNumber:yc,era:Ot({values:uc,defaultWidth:"wide"}),quarter:Ot({values:hc,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ot({values:fc,defaultWidth:"wide"}),day:Ot({values:xc,defaultWidth:"wide"}),dayPeriod:Ot({values:gc,defaultWidth:"wide",formattingValues:pc,defaultFormattingWidth:"wide"})};function At(t){return(e,r={})=>{const a=r.width,n=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],i=e.match(n);if(!i)return null;const o=i[0],c=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?wc(c,g=>g.test(o)):vc(c,g=>g.test(o));let h;h=t.valueCallback?t.valueCallback(d):d,h=r.valueCallback?r.valueCallback(h):h;const x=e.slice(o.length);return{value:h,rest:x}}}function vc(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function wc(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function jc(t){return(e,r={})=>{const a=e.match(t.matchPattern);if(!a)return null;const n=a[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const c=e.slice(n.length);return{value:o,rest:c}}}const Nc=/^(\d+)(th|st|nd|rd)?/i,kc=/\d+/i,Cc={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Sc={any:[/^b/i,/^(a|c)/i]},_c={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ec={any:[/1/i,/2/i,/3/i,/4/i]},Pc={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Oc={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ac={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mc={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Tc={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fc={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lc={ordinalNumber:jc({matchPattern:Nc,parsePattern:kc,valueCallback:t=>parseInt(t,10)}),era:At({matchPatterns:Cc,defaultMatchWidth:"wide",parsePatterns:Sc,defaultParseWidth:"any"}),quarter:At({matchPatterns:_c,defaultMatchWidth:"wide",parsePatterns:Ec,defaultParseWidth:"any",valueCallback:t=>t+1}),month:At({matchPatterns:Pc,defaultMatchWidth:"wide",parsePatterns:Oc,defaultParseWidth:"any"}),day:At({matchPatterns:Ac,defaultMatchWidth:"wide",parsePatterns:Mc,defaultParseWidth:"any"}),dayPeriod:At({matchPatterns:Tc,defaultMatchWidth:"any",parsePatterns:Fc,defaultParseWidth:"any"})},Dc={code:"en-US",formatDistance:nc,formatLong:cc,formatRelative:mc,localize:bc,match:Lc,options:{weekStartsOn:0,firstWeekContainsDate:1}};let Ic={};function Vt(){return Ic}const Ua=6048e5,Rc=864e5,Ir=Symbol.for("constructDateFrom");function Le(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Ir in t?t[Ir](e):t instanceof Date?new t.constructor(e):new Date(e)}function fe(t,e){return Le(e||t,t)}function Rr(t){const e=fe(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function lr(t,...e){const r=Le.bind(null,e.find(a=>typeof a=="object"));return e.map(r)}function os(t,e){const r=fe(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Bc(t,e,r){const[a,n]=lr(r==null?void 0:r.in,t,e),i=os(a),o=os(n),c=+i-Rr(i),d=+o-Rr(o);return Math.round((c-d)/Rc)}function qc(t,e){const r=fe(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function $c(t,e){const r=fe(t,e==null?void 0:e.in);return Bc(r,qc(r))+1}function St(t,e){var c,d,h,x;const r=Vt(),a=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((x=(h=r.locale)==null?void 0:h.options)==null?void 0:x.weekStartsOn)??0,n=fe(t,e==null?void 0:e.in),i=n.getDay(),o=(i<a?7:0)+i-a;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function ls(t,e){return St(t,{...e,weekStartsOn:1})}function za(t,e){const r=fe(t,e==null?void 0:e.in),a=r.getFullYear(),n=Le(r,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);const i=ls(n),o=Le(r,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const c=ls(o);return r.getTime()>=i.getTime()?a+1:r.getTime()>=c.getTime()?a:a-1}function Vc(t,e){const r=za(t,e),a=Le(t,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),ls(a)}function Wc(t,e){const r=fe(t,e==null?void 0:e.in),a=+ls(r)-+Vc(r);return Math.round(a/Ua)+1}function Ya(t,e){var x,g,v,w;const r=fe(t,e==null?void 0:e.in),a=r.getFullYear(),n=Vt(),i=(e==null?void 0:e.firstWeekContainsDate)??((g=(x=e==null?void 0:e.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,o=Le((e==null?void 0:e.in)||t,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const c=St(o,e),d=Le((e==null?void 0:e.in)||t,0);d.setFullYear(a,0,i),d.setHours(0,0,0,0);const h=St(d,e);return+r>=+c?a+1:+r>=+h?a:a-1}function Uc(t,e){var c,d,h,x;const r=Vt(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(h=r.locale)==null?void 0:h.options)==null?void 0:x.firstWeekContainsDate)??1,n=Ya(t,e),i=Le((e==null?void 0:e.in)||t,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),St(i,e)}function zc(t,e){const r=fe(t,e==null?void 0:e.in),a=+St(r,e)-+Uc(r,e);return Math.round(a/Ua)+1}function J(t,e){const r=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return r+a}const Je={y(t,e){const r=t.getFullYear(),a=r>0?r:1-r;return J(e==="yy"?a%100:a,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):J(r+1,2)},d(t,e){return J(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return J(t.getHours()%12||12,e.length)},H(t,e){return J(t.getHours(),e.length)},m(t,e){return J(t.getMinutes(),e.length)},s(t,e){return J(t.getSeconds(),e.length)},S(t,e){const r=e.length,a=t.getMilliseconds(),n=Math.trunc(a*Math.pow(10,r-3));return J(n,e.length)}},bt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Br={G:function(t,e,r){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const a=t.getFullYear(),n=a>0?a:1-a;return r.ordinalNumber(n,{unit:"year"})}return Je.y(t,e)},Y:function(t,e,r,a){const n=Ya(t,a),i=n>0?n:1-n;if(e==="YY"){const o=i%100;return J(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):J(i,e.length)},R:function(t,e){const r=za(t);return J(r,e.length)},u:function(t,e){const r=t.getFullYear();return J(r,e.length)},Q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return J(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return J(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){const a=t.getMonth();switch(e){case"M":case"MM":return Je.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return J(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){const n=zc(t,a);return e==="wo"?r.ordinalNumber(n,{unit:"week"}):J(n,e.length)},I:function(t,e,r){const a=Wc(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):J(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Je.d(t,e)},D:function(t,e,r){const a=$c(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):J(a,e.length)},E:function(t,e,r){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){const n=t.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return J(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){const n=t.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return J(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(t,e,r){const a=t.getDay(),n=a===0?7:a;switch(e){case"i":return String(n);case"ii":return J(n,e.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,e,r){const a=t.getHours();let n;switch(a===12?n=bt.noon:a===0?n=bt.midnight:n=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,e,r){const a=t.getHours();let n;switch(a>=17?n=bt.evening:a>=12?n=bt.afternoon:a>=4?n=bt.morning:n=bt.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Je.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Je.H(t,e)},K:function(t,e,r){const a=t.getHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):J(a,e.length)},k:function(t,e,r){let a=t.getHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):J(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Je.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Je.s(t,e)},S:function(t,e){return Je.S(t,e)},X:function(t,e,r){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return $r(a);case"XXXX":case"XX":return ct(a);case"XXXXX":case"XXX":default:return ct(a,":")}},x:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"x":return $r(a);case"xxxx":case"xx":return ct(a);case"xxxxx":case"xxx":default:return ct(a,":")}},O:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+qr(a,":");case"OOOO":default:return"GMT"+ct(a,":")}},z:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+qr(a,":");case"zzzz":default:return"GMT"+ct(a,":")}},t:function(t,e,r){const a=Math.trunc(+t/1e3);return J(a,e.length)},T:function(t,e,r){return J(+t,e.length)}};function qr(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),n=Math.trunc(a/60),i=a%60;return i===0?r+String(n):r+String(n)+e+J(i,2)}function $r(t,e){return t%60===0?(t>0?"-":"+")+J(Math.abs(t)/60,2):ct(t,e)}function ct(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),n=J(Math.trunc(a/60),2),i=J(a%60,2);return r+n+e+i}const Vr=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ha=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Yc=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],a=r[1],n=r[2];if(!n)return Vr(t,e);let i;switch(a){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Vr(a,e)).replace("{{time}}",Ha(n,e))},Hc={p:Ha,P:Yc},Zc=/^D+$/,Qc=/^Y+$/,Kc=["D","DD","YY","YYYY"];function Xc(t){return Zc.test(t)}function Gc(t){return Qc.test(t)}function Jc(t,e,r){const a=ed(t,e,r);if(console.warn(a),Kc.includes(t))throw new RangeError(a)}function ed(t,e,r){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function td(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function sd(t){return!(!td(t)&&typeof t!="number"||isNaN(+fe(t)))}const rd=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ad=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nd=/^'([^]*?)'?$/,id=/''/g,od=/[a-zA-Z]/;function Ce(t,e,r){var x,g,v,w,F,y,S,O;const a=Vt(),n=(r==null?void 0:r.locale)??a.locale??Dc,i=(r==null?void 0:r.firstWeekContainsDate)??((g=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(v=a.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((y=(F=r==null?void 0:r.locale)==null?void 0:F.options)==null?void 0:y.weekStartsOn)??a.weekStartsOn??((O=(S=a.locale)==null?void 0:S.options)==null?void 0:O.weekStartsOn)??0,c=fe(t,r==null?void 0:r.in);if(!sd(c))throw new RangeError("Invalid time value");let d=e.match(ad).map(b=>{const _=b[0];if(_==="p"||_==="P"){const V=Hc[_];return V(b,n.formatLong)}return b}).join("").match(rd).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const _=b[0];if(_==="'")return{isToken:!1,value:ld(b)};if(Br[_])return{isToken:!0,value:b};if(_.match(od))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:b}});n.localize.preprocessor&&(d=n.localize.preprocessor(c,d));const h={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return d.map(b=>{if(!b.isToken)return b.value;const _=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Gc(_)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Xc(_))&&Jc(_,e,String(t));const V=Br[_[0]];return V(c,_,n.localize,h)}).join("")}function ld(t){const e=t.match(nd);return e?e[1].replace(id,"'"):t}function Wr(t,e,r){const a=fe(t,r==null?void 0:r.in);return isNaN(e)?Le(t,NaN):(e&&a.setDate(a.getDate()+e),a)}function Us(t,e,r){const a=fe(t,r==null?void 0:r.in);if(isNaN(e))return Le(t,NaN);if(!e)return a;const n=a.getDate(),i=Le(t,a.getTime());i.setMonth(a.getMonth()+e+1,0);const o=i.getDate();return n>=o?i:(a.setFullYear(i.getFullYear(),i.getMonth(),n),a)}function cd(t,e,r){const[a,n]=lr(r==null?void 0:r.in,t,e);return+os(a)==+os(n)}function Cs(t,e){const r=fe(t,e==null?void 0:e.in),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function Ss(t,e){const r=fe(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function dd(t,e){const r=e==null?void 0:e.weekStartsOn,a=fe(t,e==null?void 0:e.in),n=a.getDay(),i=(n<r?-7:0)+6-(n-r);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function md(){return Object.assign({},Vt())}function Yt(t,e){return+fe(t)>+fe(e)}function _s(t,e){return+fe(t)<+fe(e)}function ud(t,e,r){const[a,n]=lr(r==null?void 0:r.in,t,e);return a.getFullYear()===n.getFullYear()&&a.getMonth()===n.getMonth()}function Ur(t,e,r){return Us(t,-1,r)}function zr(t,e,r){const a=md(),n=xd(t,r.timeZone,r.locale??a.locale);return"formatToParts"in n?hd(n,e):fd(n,e)}function hd(t,e){const r=t.formatToParts(e);for(let a=r.length-1;a>=0;--a)if(r[a].type==="timeZoneName")return r[a].value}function fd(t,e){const r=t.format(e).replace(/\u200E/g,""),a=/ [\w-+ ]+$/.exec(r);return a?a[0].substr(1):""}function xd(t,e,r){return new Intl.DateTimeFormat(r?[r.code,"en-US"]:void 0,{timeZone:e,timeZoneName:t})}function gd(t,e){const r=wd(e);return"formatToParts"in r?yd(r,t):bd(r,t)}const pd={year:0,month:1,day:2,hour:3,minute:4,second:5};function yd(t,e){try{const r=t.formatToParts(e),a=[];for(let n=0;n<r.length;n++){const i=pd[r[n].type];i!==void 0&&(a[i]=parseInt(r[n].value,10))}return a}catch(r){if(r instanceof RangeError)return[NaN];throw r}}function bd(t,e){const r=t.format(e),a=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[parseInt(a[3],10),parseInt(a[1],10),parseInt(a[2],10),parseInt(a[4],10),parseInt(a[5],10),parseInt(a[6],10)]}const Es={},Yr=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),vd=Yr==="06/25/2014, 00:00:00"||Yr==="06/25/2014 00:00:00";function wd(t){return Es[t]||(Es[t]=vd?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Es[t]}function Za(t,e,r,a,n,i,o){const c=new Date(0);return c.setUTCFullYear(t,e,r),c.setUTCHours(a,n,i,o),c}const Hr=36e5,jd=6e4,Ps={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function cr(t,e,r){if(!t)return 0;let a=Ps.timezoneZ.exec(t);if(a)return 0;let n,i;if(a=Ps.timezoneHH.exec(t),a)return n=parseInt(a[1],10),Zr(n)?-(n*Hr):NaN;if(a=Ps.timezoneHHMM.exec(t),a){n=parseInt(a[2],10);const o=parseInt(a[3],10);return Zr(n,o)?(i=Math.abs(n)*Hr+o*jd,a[1]==="+"?-i:i):NaN}if(Cd(t)){e=new Date(e||Date.now());const o=r?e:Nd(e),c=zs(o,t);return-(r?c:kd(e,c,t))}return NaN}function Nd(t){return Za(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function zs(t,e){const r=gd(t,e),a=Za(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime();let n=t.getTime();const i=n%1e3;return n-=i>=0?i:1e3+i,a-n}function kd(t,e,r){let n=t.getTime()-e;const i=zs(new Date(n),r);if(e===i)return e;n-=i-e;const o=zs(new Date(n),r);return i===o?i:Math.max(i,o)}function Zr(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const Qr={};function Cd(t){if(Qr[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Qr[t]=!0,!0}catch{return!1}}const Sd=60*1e3,_d={X:function(t,e,r){const a=Os(r.timeZone,t);if(a===0)return"Z";switch(e){case"X":return Kr(a);case"XXXX":case"XX":return wt(a);case"XXXXX":case"XXX":default:return wt(a,":")}},x:function(t,e,r){const a=Os(r.timeZone,t);switch(e){case"x":return Kr(a);case"xxxx":case"xx":return wt(a);case"xxxxx":case"xxx":default:return wt(a,":")}},O:function(t,e,r){const a=Os(r.timeZone,t);switch(e){case"O":case"OO":case"OOO":return"GMT"+Ed(a,":");case"OOOO":default:return"GMT"+wt(a,":")}},z:function(t,e,r){switch(e){case"z":case"zz":case"zzz":return zr("short",t,r);case"zzzz":default:return zr("long",t,r)}}};function Os(t,e){const r=t?cr(t,e,!0)/Sd:(e==null?void 0:e.getTimezoneOffset())??0;if(Number.isNaN(r))throw new RangeError("Invalid time zone specified: "+t);return r}function cs(t,e){const r=t<0?"-":"";let a=Math.abs(t).toString();for(;a.length<e;)a="0"+a;return r+a}function wt(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),n=cs(Math.floor(a/60),2),i=cs(Math.floor(a%60),2);return r+n+e+i}function Kr(t,e){return t%60===0?(t>0?"-":"+")+cs(Math.abs(t)/60,2):wt(t,e)}function Ed(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),n=Math.floor(a/60),i=a%60;return i===0?r+String(n):r+String(n)+e+cs(i,2)}function Xr(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const Pd=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,As=36e5,Gr=6e4,Od=2,be={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Pd};function Qa(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const r=e.additionalDigits==null?Od:Number(e.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const a=Ad(t),{year:n,restDateString:i}=Md(a.date,r),o=Td(i,n);if(o===null||isNaN(o.getTime()))return new Date(NaN);if(o){const c=o.getTime();let d=0,h;if(a.time&&(d=Fd(a.time),d===null||isNaN(d)))return new Date(NaN);if(a.timeZone||e.timeZone){if(h=cr(a.timeZone||e.timeZone,new Date(c+d)),isNaN(h))return new Date(NaN)}else h=Xr(new Date(c+d)),h=Xr(new Date(c+d+h));return new Date(c+d+h)}else return new Date(NaN)}function Ad(t){const e={};let r=be.dateTimePattern.exec(t),a;if(r?(e.date=r[1],a=r[3]):(r=be.datePattern.exec(t),r?(e.date=r[1],a=r[2]):(e.date=null,a=t)),a){const n=be.timeZone.exec(a);n?(e.time=a.replace(n[1],""),e.timeZone=n[1].trim()):e.time=a}return e}function Md(t,e){if(t){const r=be.YYY[e],a=be.YYYYY[e];let n=be.YYYY.exec(t)||a.exec(t);if(n){const i=n[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(n=be.YY.exec(t)||r.exec(t),n){const i=n[1];return{year:parseInt(i,10)*100,restDateString:t.slice(i.length)}}}return{year:null}}function Td(t,e){if(e===null)return null;let r,a,n;if(!t||!t.length)return r=new Date(0),r.setUTCFullYear(e),r;let i=be.MM.exec(t);if(i)return r=new Date(0),a=parseInt(i[1],10)-1,ea(e,a)?(r.setUTCFullYear(e,a),r):new Date(NaN);if(i=be.DDD.exec(t),i){r=new Date(0);const o=parseInt(i[1],10);return Id(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(i=be.MMDD.exec(t),i){r=new Date(0),a=parseInt(i[1],10)-1;const o=parseInt(i[2],10);return ea(e,a,o)?(r.setUTCFullYear(e,a,o),r):new Date(NaN)}if(i=be.Www.exec(t),i)return n=parseInt(i[1],10)-1,ta(n)?Jr(e,n):new Date(NaN);if(i=be.WwwD.exec(t),i){n=parseInt(i[1],10)-1;const o=parseInt(i[2],10)-1;return ta(n,o)?Jr(e,n,o):new Date(NaN)}return null}function Fd(t){let e,r,a=be.HH.exec(t);if(a)return e=parseFloat(a[1].replace(",",".")),Ms(e)?e%24*As:NaN;if(a=be.HHMM.exec(t),a)return e=parseInt(a[1],10),r=parseFloat(a[2].replace(",",".")),Ms(e,r)?e%24*As+r*Gr:NaN;if(a=be.HHMMSS.exec(t),a){e=parseInt(a[1],10),r=parseInt(a[2],10);const n=parseFloat(a[3].replace(",","."));return Ms(e,r,n)?e%24*As+r*Gr+n*1e3:NaN}return null}function Jr(t,e,r){e=e||0,r=r||0;const a=new Date(0);a.setUTCFullYear(t,0,4);const n=a.getUTCDay()||7,i=e*7+r+1-n;return a.setUTCDate(a.getUTCDate()+i),a}const Ld=[31,28,31,30,31,30,31,31,30,31,30,31],Dd=[31,29,31,30,31,30,31,31,30,31,30,31];function Ka(t){return t%400===0||t%4===0&&t%100!==0}function ea(t,e,r){if(e<0||e>11)return!1;if(r!=null){if(r<1)return!1;const a=Ka(t);if(a&&r>Dd[e]||!a&&r>Ld[e])return!1}return!0}function Id(t,e){if(e<1)return!1;const r=Ka(t);return!(r&&e>366||!r&&e>365)}function ta(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function Ms(t,e,r){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||r!=null&&(r<0||r>=60))}const Rd=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function Bd(t,e,r={}){e=String(e);const a=e.match(Rd);if(a){const n=Qa(r.originalDate||t,r);e=a.reduce(function(i,o){if(o[0]==="'")return i;const c=i.indexOf(o),d=i[c-1]==="'",h=i.replace(o,"'"+_d[o[0]](n,o,r)+"'");return d?h.substring(0,c-1)+h.substring(c+1):h},e)}return Ce(t,e,r)}function qd(t,e,r){t=Qa(t,r);const a=cr(e,t,!0),n=new Date(t.getTime()-a),i=new Date(0);return i.setFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),i.setHours(n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()),i}function Ht(t,e,r,a){return a={...a,timeZone:e,originalDate:t},Bd(qd(t,e,{timeZone:a.timeZone}),r,a)}const Be={createOrder:async t=>(await z.post("/customer/orders",t)).data.data,getOrders:async()=>(await z.get("/customer/orders")).data.data,getOrderById:async t=>(await z.get(`/customer/orders/${t}`)).data.data,cancelOrder:async(t,e)=>(await z.post(`/customer/orders/${t}/cancel`,e?{reason:e}:{})).data.data,getJobCard:async t=>(await z.get(`/customer/orders/${t}/jobcard`)).data.data,getTechnicianStatus:async t=>(await z.get(`/customer/orders/${t}/technician`)).data.data,postMessage:async(t,e)=>(await z.post(`/customer/orders/${t}/messages`,{message:e})).data.data,uploadOrderMedia:async(t,e)=>{const r=new FormData;return e.forEach(n=>r.append("images",n)),(await z.post(`/customer/orders/${t}/media`,r,{headers:{"Content-Type":"multipart/form-data"}})).data.data},getAdditionalItems:async t=>(await z.get(`/customer/orders/${t}/additional`)).data.data,approveAdditionalItems:async(t,e)=>(await z.post(`/customer/orders/${t}/approve`,e?{note:e}:{})).data.data,rejectAdditionalItems:async(t,e)=>(await z.post(`/customer/orders/${t}/reject`,e?{note:e}:{})).data.data},jt={async initializePayment(t,e,r){return(await z.post("/customer/payments",{orderId:t,method:e,amount:r})).data.data},async initializePaymentWithOrderData(t){return(await z.post("/customer/payments/init-with-orders",t)).data.data},async confirmPayment(t){return(await z.post("/customer/payments/confirm",t)).data.data},async getPaymentStatus(t){return(await z.get(`/customer/payments/${t}`)).data.data},async getPaymentBalance(t){return(await z.get(`/customer/orders/${t}/payment-balance`)).data.data},async getOrderPayments(t){return(await z.get(`/customer/orders/${t}/payments`)).data.data},async initializeRemainingPayment(t,e){return(await z.post(`/customer/orders/${t}/payments/remaining`,{method:e})).data.data}},Nt={getAddresses:async()=>(await z.get("/customer/addresses")).data.data,createAddress:async t=>(await z.post("/customer/addresses",t)).data.data,updateAddress:async(t,e)=>(await z.put(`/customer/addresses/${t}`,e)).data.data,deleteAddress:async t=>{await z.delete(`/customer/addresses/${t}`)},markPreferred:async t=>(await z.post(`/customer/addresses/${t}/preferred`)).data.data},$d={getTimeSlots:async(t,e=7)=>{const r=new URLSearchParams;return t&&r.append("startDate",t),r.append("days",e.toString()),(await z.get(`/customer/time-slots?${r.toString()}`)).data.data},checkAvailability:async t=>(await z.post("/customer/time-slots/check",t)).data.data},sa=[],ra={lat:12.876414,lng:80.226901},Vd=15,Wd=6371;function Ud(t,e,r,a){const n=h=>h*Math.PI/180,i=n(r-t),o=n(a-e),c=Math.sin(i/2)*Math.sin(i/2)+Math.cos(n(t))*Math.cos(n(r))*Math.sin(o/2)*Math.sin(o/2),d=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return Wd*d}async function zd(t){var o,c,d;const r=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(t)}&key=AIzaSyB3IjVFCe5jVCaRaqxT902UCxVhBQ9pgFY`,a=await fetch(r);if(!a.ok)return null;const n=await a.json(),i=(d=(c=(o=n==null?void 0:n.results)==null?void 0:o[0])==null?void 0:c.geometry)==null?void 0:d.location;return i?{lat:i.lat,lng:i.lng}:null}async function aa(t){if(sa.length>0&&!sa.includes(t.postalCode))return{serviceable:!1,reason:"Postal code not in service area"};const e=`${t.line1}${t.line2?", "+t.line2:""}, ${t.city}, ${t.state} ${t.postalCode}`,r=await zd(e);return r&&Ud(ra.lat,ra.lng,r.lat,r.lng)>Vd?{serviceable:!1,reason:"Outside service radius"}:{serviceable:!0}}const Ys=({isOpen:t,onClose:e,address:r})=>{const a=Zs(),{register:n,handleSubmit:i,reset:o,formState:{errors:c}}=xs({defaultValues:r?{label:r.label,contactName:r.contactName,phone:r.phone,line1:r.line1,line2:r.line2||"",city:r.city,state:r.state,postalCode:r.postalCode,isDefault:r.isDefault,notes:r.notes||""}:void 0}),d=$e({mutationFn:Nt.createAddress,onSuccess:()=>{a.invalidateQueries({queryKey:["addresses"]}),D.success("Address added successfully!"),o(),e()},onError:v=>{var w,F;D.error(((F=(w=v.response)==null?void 0:w.data)==null?void 0:F.message)||"Failed to add address")}}),h=$e({mutationFn:v=>Nt.updateAddress(r._id,v),onSuccess:()=>{a.invalidateQueries({queryKey:["addresses"]}),D.success("Address updated successfully!"),o(),e()},onError:v=>{var w,F;D.error(((F=(w=v.response)==null?void 0:w.data)==null?void 0:F.message)||"Failed to update address")}}),x=v=>{r?h.mutate(v):d.mutate(v)},g=()=>{o(),e()};return s.jsx(_e.Root,{show:t,as:l.Fragment,children:s.jsxs(Ae,{as:"div",className:"relative z-50",onClose:g,children:[s.jsx(_e.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),s.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:s.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:s.jsx(_e.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:s.jsxs(Ae.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[s.jsx("div",{className:"absolute right-0 top-0 pr-4 pt-4",children:s.jsx("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500",onClick:g,children:s.jsx(qt,{className:"h-6 w-6"})})}),s.jsx("div",{className:"sm:flex sm:items-start",children:s.jsxs("div",{className:"mt-3 w-full text-center sm:mt-0 sm:text-left",children:[s.jsx(Ae.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900 mb-4",children:r?"Edit Address":"Add New Address"}),s.jsxs("form",{onSubmit:i(x),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label *"}),s.jsxs("select",{...n("label",{required:"Label is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"Home",children:"Home"}),s.jsx("option",{value:"Work",children:"Work"}),s.jsx("option",{value:"Other",children:"Other"})]}),c.label&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.label.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name *"}),s.jsx("input",{type:"text",...n("contactName",{required:"Contact name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),c.contactName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.contactName.message})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),s.jsx("input",{type:"tel",...n("phone",{required:"Phone is required",pattern:{value:/^[0-9]{10}$/,message:"Invalid phone number"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"10 digit mobile number"}),c.phone&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.phone.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1 *"}),s.jsx("input",{type:"text",...n("line1",{required:"Address is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"House/Flat No, Building Name"}),c.line1&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.line1.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),s.jsx("input",{type:"text",...n("line2"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Street, Area, Locality"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),s.jsx("input",{type:"text",...n("city",{required:"City is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),c.city&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.city.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),s.jsx("input",{type:"text",...n("state",{required:"State is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),c.state&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.state.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode *"}),s.jsx("input",{type:"text",...n("postalCode",{required:"Pincode is required",pattern:{value:/^[0-9]{6}$/,message:"Invalid pincode"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),c.postalCode&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.postalCode.message})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Notes (Optional)"}),s.jsx("textarea",{...n("notes"),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Landmark or special instructions..."})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",...n("isDefault"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),s.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Set as default address"})]}),s.jsxs("div",{className:"mt-6 flex gap-3",children:[s.jsx("button",{type:"button",onClick:g,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:d.isPending||h.isPending,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:r?h.isPending?"Saving...":"Save Changes":d.isPending?"Adding...":"Add Address"})]})]})]})})]})})})})]})})},Yd=()=>{const t=Qe(),{user:e}=De(),{items:r,getTotalPrice:a,clearCart:n}=ft(),i=a(),o=.18,c=+(i*o),d=0,h=+(i+c+d),[x,g]=l.useState(!1),[v,w]=l.useState(null),[F,y]=l.useState({}),[S,O]=l.useState(!1),[b,_]=l.useState(null),{register:V,handleSubmit:q,setValue:se}=xs(),{data:P,isLoading:G}=ge({queryKey:["addresses"],queryFn:Nt.getAddresses,enabled:!!e}),K=new Date,I=Wr(K,365),{data:le,isLoading:$}=ge({queryKey:["timeSlots",Ce(K,"yyyy-MM-dd")],queryFn:()=>$d.getTimeSlots(Ce(K,"yyyy-MM-dd"),365)}),[R,ee]=l.useState(K),[U,ae]=l.useState(null);l.useEffect(()=>{(async()=>{if(!P||P.length===0)return;O(!0);const Y={};await Promise.all(P.map(async k=>{try{const E=await aa(k);Y[k._id]=E.serviceable}catch{Y[k._id]=!0}})),y(Y);const p=P.find(k=>Y[k._id]);p?(w(p),se("selectedAddressId",p._id)):(w(null),D.error("No addresses are in our service area. Please add a valid address.")),O(!1)})()},[P,se]);const[X,ve]=l.useState([]),[we,je]=l.useState(!1),[Ke,pe]=l.useState(!1),[ce,A]=l.useState(null),[te,Z]=l.useState(!1),ze=async M=>{if(!e){D.error("Please login to place an order"),t("/");return}if(r.length===0){D.error("Your cart is empty"),t("/");return}if(!v){D.error("Please select a service address");return}if(!b){D.error("Please select a time slot");return}const Y=r.reduce((k,E)=>{const m=E.categoryId;return k[m]||(k[m]=[]),k[m].push(E),k},{}),p=Object.entries(Y).map(([,k])=>{const E=k.reduce((j,N)=>j+N.price*N.quantity,0),m=E*o,u=+(E+m+d);return{services:k.map(j=>({serviceItem:j.serviceId,serviceCategory:j.categoryId,quantity:j.quantity,issueDescription:M.notes})),customerAddressId:v._id,preferredStart:b.slot.start,preferredEnd:b.slot.end,estimatedCost:u}});ve(p),pe(!0)},Ie=M=>{A(M)},xt=async()=>{var M,Y,p,k;if(!(!ce||X.length===0||!e)){Z(!0);try{const E=X.reduce((m,u)=>m+(u.estimatedCost||0),0);if(ce==="cash"){je(!0);try{const u=(await Promise.allSettled(X.map(f=>Be.createOrder(f)))).filter(f=>f.status==="fulfilled").map(f=>f.value);if(u.length===0)throw new Error("Failed to create orders");D.success(`Orders placed successfully! ${u.length} order${u.length>1?"s":""} created. You selected Cash on Delivery, but you can also pay online later from your job card.`),n(),pe(!1),t("/orders")}catch(m){D.error(((Y=(M=m==null?void 0:m.response)==null?void 0:M.data)==null?void 0:Y.message)||"Failed to place order with Cash on Delivery")}finally{je(!1),Z(!1)}}else{const m=await jt.initializePaymentWithOrderData({orderData:X,customerId:e.id,method:ce,amount:E});if(!m.razorpayOrder)throw new Error("Failed to initialize Razorpay payment");const u={key:m.razorpayOrder.key,amount:m.razorpayOrder.amount*100,currency:m.razorpayOrder.currency,name:"Fixzep",description:`Payment for ${X.length} order(s)`,order_id:m.razorpayOrder.id,handler:async j=>{var N,C;try{je(!0);const H=(await Promise.allSettled(X.map(de=>Be.createOrder(de)))).filter(de=>de.status==="fulfilled").map(de=>de.value);if(H.length===0)throw new Error("Failed to create orders after payment");const Q=H[0];await jt.confirmPayment({paymentId:m._id,orderId:Q._id,razorpayPaymentId:j.razorpay_payment_id,razorpayOrderId:j.razorpay_order_id,razorpaySignature:j.razorpay_signature}),D.success(`Payment successful! ${H.length} order${H.length>1?"s":""} placed.`),n(),pe(!1),t("/orders")}catch(T){D.error(((C=(N=T==null?void 0:T.response)==null?void 0:N.data)==null?void 0:C.message)||"Failed to process payment"),Z(!1)}finally{je(!1)}},prefill:{name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",contact:(e==null?void 0:e.phone)||""},theme:{color:"#0f172a"},modal:{ondismiss:()=>{D.error("Payment cancelled"),Z(!1)}}},f=new window.Razorpay(u);f.on("payment.failed",j=>{D.error(`Payment failed: ${j.error.description||"Unknown error"}`),Z(!1)}),f.open()}}catch(E){D.error(((k=(p=E==null?void 0:E.response)==null?void 0:p.data)==null?void 0:k.message)||"Payment processing failed"),Z(!1)}}},Ee=async M=>{const Y=F[M._id];if(Y===!1){D.error("We currently do not serve this area. Please pick another address.");return}if(Y===void 0){const p=await aa(M);if(y(k=>({...k,[M._id]:p.serviceable})),!p.serviceable){D.error("We currently do not serve this area. Please pick another address.");return}}w(M),se("selectedAddressId",M._id)},Xe=(M,Y)=>{_({date:M,slot:Y}),se("selectedDate",M),se("selectedSlotStart",Y.start),se("selectedSlotEnd",Y.end)},nt=(le||[]).reduce((M,Y)=>{const p=Ce(new Date(Y.date),"yyyy-MM-dd");return M[p]=Y.slots||[],M},{});l.useEffect(()=>{if(!le||le.length===0)return;const M=le.find(Y=>Y.slots&&Y.slots.length>0);if(M){const Y=new Date(M.date);ae(Y)}},[le]);const it=()=>{const M=Ur(R);_s(Cs(M),K)||ee(M)},gt=()=>{const M=Us(R,1);Yt(Ss(M),I)||ee(M)},ot=()=>{const M=St(Ss(R),{weekStartsOn:1}),Y=dd(Cs(R),{weekStartsOn:1}),p=[];let k=M;for(;k<=Y;)p.push(k),k=Wr(k,1);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("button",{type:"button",onClick:it,className:"px-2 py-1 text-sm rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50",disabled:_s(Cs(Ur(R)),K),children:""}),s.jsx("div",{className:"font-semibold text-gray-900",children:Ce(R,"MMMM yyyy")}),s.jsx("button",{type:"button",onClick:gt,className:"px-2 py-1 text-sm rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50",disabled:Yt(Ss(Us(R,1)),I),children:""})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs text-gray-500 mb-1",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(E=>s.jsx("div",{className:"text-center py-1",children:E},E))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:p.map(E=>{var T;const m=Ce(E,"yyyy-MM-dd"),u=!_s(E,K)&&!Yt(E,I),f=ud(E,R),j=!!((T=nt[m])!=null&&T.length),N=!u||!j,C=U&&cd(E,U);return s.jsxs("button",{type:"button",onClick:()=>{N||(ae(E),_(null))},className:`h-10 rounded-md text-sm transition-colors ${N?"text-gray-300 cursor-not-allowed":"text-gray-800 hover:bg-primary-50"} ${f?"":"opacity-50"} ${C?"bg-primary-100 text-primary-900 font-semibold":""}`,"aria-disabled":N,children:[s.jsx("div",{children:Ce(E,"d")}),j&&s.jsx("div",{className:"mx-auto mt-0.5 h-1.5 w-1.5 rounded-full bg-primary-500"})]},E.toISOString())})})]})};return r.length===0?s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),s.jsx("button",{onClick:()=>t("/"),className:"text-primary-600 hover:text-primary-700 font-medium",children:"Browse Services "})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 py-12",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Service Address"}),s.jsxs("button",{onClick:()=>g(!0),className:"flex items-center text-primary-600 hover:text-primary-700 font-medium text-sm",children:[s.jsx(tr,{className:"w-5 h-5 mr-1"}),"Add New"]})]}),G?s.jsx("div",{className:"animate-pulse space-y-3",children:[...Array(2)].map((M,Y)=>s.jsx("div",{className:"h-24 bg-gray-200 rounded"},Y))}):!P||P.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500 mb-4",children:"No addresses saved"}),s.jsx("button",{onClick:()=>g(!0),className:"text-primary-600 hover:text-primary-700 font-medium",children:"Add your first address"})]}):s.jsx("div",{className:"space-y-3",children:P.map(M=>s.jsxs("div",{onClick:()=>Ee(M),className:`relative border-2 rounded-lg p-4 cursor-pointer transition-all ${(v==null?void 0:v._id)===M._id?"border-primary-600 bg-primary-50":F[M._id]===!1?"border-red-300 bg-red-50":"border-gray-200 hover:border-gray-300"} ${F[M._id]===!1?"opacity-70":""}`,children:[(v==null?void 0:v._id)===M._id&&s.jsx(mt,{className:"absolute top-4 right-4 w-6 h-6 text-primary-600"}),F[M._id]===!1&&s.jsx("span",{className:"absolute top-4 right-4 bg-red-500 text-white text-xs font-semibold px-2 py-1 rounded",children:"Out of service area"}),s.jsxs("div",{className:"pr-8",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-xs font-semibold text-primary-600 bg-primary-100 px-2 py-1 rounded",children:M.label}),M.isDefault&&s.jsx("span",{className:"text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded",children:"Default"})]}),s.jsx("p",{className:"font-medium text-gray-900",children:M.contactName}),s.jsx("p",{className:"text-sm text-gray-600",children:M.phone}),s.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[M.line1,M.line2&&`, ${M.line2}`]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[M.city,", ",M.state," - ",M.postalCode]}),M.notes&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Note: ",M.notes]}),S&&F[M._id]===void 0&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Validating service area"})]})]},M._id))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Select Date & Time Slot"}),$?s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-40 bg-gray-200 rounded"}),s.jsx("div",{className:"h-16 bg-gray-200 rounded"})]}):!le||le.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No time slots available"}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{children:ot()}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:U?Ce(U,"EEEE, MMMM dd, yyyy"):"Select a date"}),(()=>{if(!(le||[]).some(k=>k.slots&&k.slots.length>0))return s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-sm text-amber-600",children:"No time slots are configured for the next 31 days."}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please try again later or contact support."})]});if(!U)return s.jsx("p",{className:"text-sm text-gray-500",children:"Choose a date to view available slots."});const Y=Ce(U,"yyyy-MM-dd"),p=nt[Y]||[];if(p.length===0){const E=(()=>{const m=U;let u=null;for(const f of le||[]){const j=new Date(f.date);if(Yt(j,m)&&f.slots&&f.slots.length>0){u=j;break}}return u})();return s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"No slots available on this day."}),E&&s.jsx("button",{type:"button",className:"text-sm font-medium text-primary-600 hover:text-primary-700 underline",onClick:()=>{ae(E),_(null)},children:"Jump to next available date"})]})}return s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 xl:grid-cols-3 gap-3",children:p.map((k,E)=>{const m=U.toISOString(),u=(b==null?void 0:b.date)===m&&(b==null?void 0:b.slot.start)===k.start;return s.jsx("button",{type:"button",onClick:()=>Xe(m,k),className:`p-3 border-2 rounded-lg text-sm font-medium transition-all ${u?"border-primary-600 bg-primary-50 text-primary-700":"border-gray-200 hover:border-primary-300 text-gray-700"}`,children:s.jsxs("div",{className:"text-xs mt-1",children:[Ht(k.start,"UTC","hh:mm a")," - ",Ht(k.end,"UTC","hh:mm a")]})},E)})})})()]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Additional Notes (Optional)"}),s.jsx("textarea",{...V("notes"),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Any special instructions or requirements..."})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Order Summary"}),s.jsx("div",{className:"space-y-3 mb-6",children:r.map(M=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-gray-900 font-medium",children:M.serviceName}),s.jsx("p",{className:"text-gray-500 text-xs",children:M.categoryName}),s.jsxs("p",{className:"text-gray-600 text-xs",children:["Qty: ",M.quantity]})]}),s.jsxs("p",{className:"text-gray-900 font-medium",children:["",(M.price*M.quantity).toFixed(2)]})]},M.serviceId))}),s.jsxs("div",{className:"border-t pt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal"}),s.jsxs("span",{className:"text-gray-900",children:["",i.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"GST (18%)"}),s.jsxs("span",{className:"text-gray-900",children:["",c.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Service Charges"}),s.jsxs("span",{className:"text-gray-900",children:["",d.toFixed(2)]})]}),s.jsxs("div",{className:"border-t pt-2 flex justify-between",children:[s.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total"}),s.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:["",h.toFixed(2)]})]})]}),v&&s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Delivering to:"}),s.jsxs("p",{className:"text-sm text-gray-700",children:[v.line1,v.line2&&`, ${v.line2}`]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[v.city,", ",v.state]})]}),b&&s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Scheduled for:"}),s.jsx("p",{className:"text-sm text-gray-700",children:Ce(new Date(b.date),"EEEE, MMM dd, yyyy")}),s.jsxs("p",{className:"text-sm text-gray-700",children:[b.slot.label," (",Ht(b.slot.start,"UTC","hh:mm a")," - ",Ht(b.slot.end,"UTC","hh:mm a"),")"]})]}),s.jsx("button",{onClick:q(ze),disabled:we||!v||!b,className:"w-full mt-6 bg-primary-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-primary-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:we?"Placing Orders...":"Place Orders"})]})})]})]}),Ke&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Select Payment Method"}),s.jsx("button",{onClick:()=>{pe(!1),n(),t("/orders")},className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Order Summary"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-gray-900 font-semibold",children:[X.length," order",X.length>1?"s":""]}),s.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:["",h.toFixed(2)]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsx("button",{onClick:()=>Ie("cash"),className:`p-6 border-2 rounded-lg text-left transition-all ${ce==="cash"?"border-primary-600 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${ce==="cash"?"bg-primary-600":"bg-gray-100"}`,children:s.jsx(po,{className:`w-8 h-8 ${ce==="cash"?"text-white":"text-gray-600"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Cash on Delivery"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pay when service is completed"}),ce==="cash"&&s.jsx(mt,{className:"w-5 h-5 text-primary-600 mt-2"})]})]})}),s.jsx("button",{onClick:()=>Ie("razorpay"),className:`p-6 border-2 rounded-lg text-left transition-all ${ce==="razorpay"?"border-primary-600 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${ce==="razorpay"?"bg-primary-600":"bg-gray-100"}`,children:s.jsx(Io,{className:`w-8 h-8 ${ce==="razorpay"?"text-white":"text-gray-600"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Online Payment"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Card, UPI, Netbanking & Wallets"}),ce==="razorpay"&&s.jsx(mt,{className:"w-5 h-5 text-primary-600 mt-2"})]})]})})]}),ce==="razorpay"&&s.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-blue-800",children:" You'll be redirected to a secure Razorpay payment page. All major payment methods are accepted."})}),ce==="cash"&&s.jsx("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-amber-800",children:" You will pay cash when the technician completes the service. Payment confirmation will be done by the technician."})}),s.jsx("div",{className:"flex gap-3",children:s.jsx("button",{onClick:xt,disabled:!ce||te,className:"flex-1 px-4 py-3 bg-primary-600 text-white rounded-lg font-semibold hover:bg-primary-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:te?"Processing...":"Proceed to Payment"})})]})})}),s.jsx(Ys,{isOpen:x,onClose:()=>g(!1)})]})},Hd=()=>{const{user:t,token:e}=De(),{data:r,isLoading:a,error:n}=ge({queryKey:["orders"],queryFn:Be.getOrders,enabled:!!e}),i=o=>({pending:{color:"text-yellow-700",bg:"bg-yellow-50 border-yellow-200",icon:rt,label:"Pending"},confirmed:{color:"text-blue-700",bg:"bg-blue-50 border-blue-200",icon:mt,label:"Confirmed"},"in-progress":{color:"text-purple-700",bg:"bg-purple-50 border-purple-200",icon:co,label:"In Progress"},completed:{color:"text-green-700",bg:"bg-green-50 border-green-200",icon:mt,label:"Completed"},cancelled:{color:"text-red-700",bg:"bg-red-50 border-red-200",icon:as,label:"Cancelled"}})[o]||{color:"text-gray-700",bg:"bg-gray-50 border-gray-200",icon:rt,label:o};return!e||!t?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-md p-12 text-center",children:[s.jsx(sr,{className:"h-20 w-20 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Login Required"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Please log in to view your orders"}),s.jsxs(ie,{to:"/",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white font-medium rounded-lg hover:bg-primary-700 transition-colors shadow-sm hover:shadow-md",children:["Go to Homepage",s.jsx(Jt,{className:"h-5 w-5 ml-2"})]})]})})}):a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 sm:py-12",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"h-10 w-48 bg-gray-200 rounded-lg animate-pulse"}),s.jsx("div",{className:"h-6 w-64 bg-gray-200 rounded mt-3 animate-pulse"})]}),s.jsx("div",{className:"space-y-4",children:[1,2,3].map(o=>s.jsx("div",{className:"h-64 bg-white rounded-xl shadow-sm animate-pulse"},o))})]})}):n?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[s.jsx(as,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to load orders"}),s.jsx("p",{className:"text-gray-500 mb-4",children:n instanceof Error?n.message:"Please try again later"}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Retry"})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 sm:py-12",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"My Orders"}),s.jsx("p",{className:"text-gray-600",children:"Track and manage your service bookings"})]}),!r||r.length===0?s.jsxs(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-md p-12 text-center",children:[s.jsx(Ma,{className:"h-20 w-20 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No orders yet"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Start booking amazing services today!"}),s.jsxs(ie,{to:"/",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white font-medium rounded-lg hover:bg-primary-700 transition-colors shadow-sm hover:shadow-md",children:["Browse Services",s.jsx(Jt,{className:"h-5 w-5 ml-2"})]})]}):s.jsx("div",{className:"space-y-5",children:r.map((o,c)=>{var x;const d=i(o.status),h=d.icon;return s.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.05},children:s.jsxs(ie,{to:`/orders/${o._id}`,className:"block bg-white rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 hover:border-primary-200 group",children:[s.jsx("div",{className:`px-6 py-3 border-b ${d.bg}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(h,{className:`h-5 w-5 ${d.color}`}),s.jsx("span",{className:`font-semibold ${d.color}`,children:d.label})]}),s.jsxs("span",{className:"text-sm font-mono text-gray-600",children:["#",o.orderCode]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-5",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-3 uppercase tracking-wide",children:"Services Booked"}),s.jsx("div",{className:"space-y-2",children:o.services.map((g,v)=>{var w;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:g.serviceName}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Quantity: ",g.quantity]})]}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",(w=g==null?void 0:g.estimatedCost)==null?void 0:w.toFixed(2)]})]},v)})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-5 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Oa,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Scheduled"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:Ce(new Date(o.scheduledAt),"MMM dd, yyyy")}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:Ce(new Date(o.scheduledAt),"hh:mm a")})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ut,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Address"}),s.jsxs("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:[o.customer.city,", ",o.customer.state]}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:o.customer.postalCode})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 md:justify-end",children:[s.jsx(Rt,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{className:"md:text-right",children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Total Amount"}),s.jsxs("p",{className:"text-2xl font-bold text-primary-600 mt-1",children:["",(x=o==null?void 0:o.estimatedCost)==null?void 0:x.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-5 pt-5 border-t border-gray-100",children:[s.jsxs("p",{className:"text-xs text-gray-500",children:["Placed on ",Ce(new Date(o.createdAt),"MMM dd, yyyy - hh:mm a")]}),s.jsxs("div",{className:"flex items-center text-primary-600 font-medium text-sm group-hover:text-primary-700",children:["View Details",s.jsx(Jt,{className:"h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})]})]})},o._id)})})]})})},Mt=t=>new Intl.DateTimeFormat("en-IN",{dateStyle:"medium",timeStyle:"short"}).format(new Date(t)),Ts=t=>{if(!t)return"";const e=t.replace(/_/g," ");return e.charAt(0).toUpperCase()+e.slice(1)},Zd=t=>t?typeof t=="string"?t:(t==null?void 0:t.name)||"System":"System",Qd=()=>{var nt,it,gt,ot,M,Y;const{orderId:t}=Hs(),e=Qe(),r=Zs(),{data:a,isLoading:n,error:i}=ge({queryKey:["order",t],queryFn:()=>Be.getOrderById(t),enabled:!!t}),{data:o}=ge({queryKey:["orderJobCard",t],queryFn:()=>Be.getJobCard(t),enabled:!!t}),{data:c}=ge({queryKey:["orderPaymentBalance",t],queryFn:()=>jt.getPaymentBalance(t),enabled:!!t&&!!o}),{data:d=[]}=ge({queryKey:["orderPayments",t],queryFn:()=>jt.getOrderPayments(t),enabled:!!t}),{data:h}=ge({queryKey:["orderTechnicianStatus",t],queryFn:()=>Be.getTechnicianStatus(t),enabled:!!t&&!!(a!=null&&a.assignedTechnician)}),{user:x}=De(),[g,v]=l.useState(!1),[w,F]=l.useState("razorpay"),[y,S]=l.useState(!1),[O,b]=l.useState({open:!1,url:null}),[_,V]=l.useState(100),q=50,se=200,P=25,G=$e({mutationFn:p=>Be.cancelOrder(t,p),onSuccess:()=>{r.invalidateQueries({queryKey:["order",t]}),r.invalidateQueries({queryKey:["orderJobCard",t]})}}),K=$e({mutationFn:p=>Be.approveAdditionalItems(t,p),onSuccess:()=>{r.invalidateQueries({queryKey:["order",t]}),r.invalidateQueries({queryKey:["orderJobCard",t]}),oe.success("Additional items approved. They have been added to your job.")},onError:p=>{var k,E;oe.error(((E=(k=p==null?void 0:p.response)==null?void 0:k.data)==null?void 0:E.message)||"Failed to approve")}}),I=$e({mutationFn:p=>Be.rejectAdditionalItems(t,p),onSuccess:()=>{r.invalidateQueries({queryKey:["order",t]}),r.invalidateQueries({queryKey:["orderJobCard",t]}),oe.success("Additional items rejected.")},onError:p=>{var k,E;oe.error(((E=(k=p==null?void 0:p.response)==null?void 0:k.data)==null?void 0:E.message)||"Failed to reject")}}),le=l.useRef(null),$=$e({mutationFn:p=>Be.uploadOrderMedia(t,p),onSuccess:(p,k)=>{r.invalidateQueries({queryKey:["order",t]}),oe.success(`${k.length} image${k.length>1?"s":""} uploaded`),le.current&&(le.current.value="")},onError:p=>{var k,E;oe.error(((E=(k=p==null?void 0:p.response)==null?void 0:k.data)==null?void 0:E.message)||"Failed to upload images")}}),R=a&&a.status!=="completed"&&a.status!=="cancelled",ee=no(),{socket:U,joinOrder:ae,leaveOrder:X,isConnected:ve}=ee||{};l.useEffect(()=>{var k;if(!t||!(x!=null&&x.id))return;ve&&(ae==null||ae(t));const p=E=>{t&&(E==null?void 0:E.orderId)!=null&&String(E.orderId)===String(t)&&r.invalidateQueries({queryKey:["order",t]})};return(k=U==null?void 0:U.on)==null||k.call(U,br,p),()=>{var E;X==null||X(t),(E=U==null?void 0:U.off)==null||E.call(U,br,p)}},[t,x==null?void 0:x.id,ve,ae,X,r,U]);const we=p=>{switch(p.toLowerCase()){case"completed":return s.jsx(mt,{className:"w-20 h-20 text-green-500"});case"cancelled":return s.jsx(as,{className:"w-20 h-20 text-red-500"});case"confirmed":return s.jsx(Aa,{className:"w-20 h-20 text-blue-500"});case"in-progress":return s.jsx(xl,{className:"w-20 h-20 text-purple-500"});default:return s.jsx(rt,{className:"w-20 h-20 text-yellow-500"})}},je=p=>({pending:{color:"text-yellow-700",bg:"bg-yellow-50",text:"Pending",border:"border-yellow-200"},confirmed:{color:"text-blue-700",bg:"bg-blue-50",text:"Confirmed",border:"border-blue-200"},"in-progress":{color:"text-purple-700",bg:"bg-purple-50",text:"In Progress",border:"border-purple-200"},completed:{color:"text-green-700",bg:"bg-green-50",text:"Completed",border:"border-green-200"},cancelled:{color:"text-red-700",bg:"bg-red-50",text:"Cancelled",border:"border-red-200"},cancellation_requested:{color:"text-orange-700",bg:"bg-orange-50",text:"Cancellation Requested",border:"border-orange-200"}})[p.toLowerCase()]||{color:"text-gray-700",bg:"bg-gray-50",text:p,border:"border-gray-200"},Ke=p=>({pending:{title:"Order Placed Successfully!",description:"Your order has been received and is awaiting confirmation. We will notify you once it is confirmed."},confirmed:{title:"Order Confirmed!",description:"Great news! Your order has been confirmed. A skilled technician will be assigned to your service shortly."},"in-progress":{title:"Service In Progress",description:"Our expert technician is currently working on your service. You will be notified upon completion."},completed:{title:"Service Completed Successfully!",description:"Your service has been completed. Thank you for choosing our services. We hope to serve you again!"},cancelled:{title:"Order Cancelled",description:"This order has been cancelled. If you have any questions, please contact our support team."},cancellation_requested:{title:"Cancellation Requested",description:"We have received your cancellation request. Our team will review and update the status shortly."}})[p.toLowerCase()]||{title:"Order Status",description:"Your order is being processed."},pe=l.useMemo(()=>{var m;if(!a)return[];const p=[];(a.history||[]).forEach((u,f)=>{if(!u)return;let j="bg-primary-500",N=Ts(u.action)||"Update";switch((u.action||"").toLowerCase()){case"technician_checked_in":j="bg-emerald-500",N="Technician Checked In";break;case"technician_checked_out":j="bg-rose-500",N="Technician Checked Out";break;case"technician_progress_update":j="bg-amber-500",N="Progress Update";break;case"technician_follow_up":j="bg-orange-500",N="Follow Up Required";break;case"technician_assigned":case"assigned":j="bg-indigo-500",N="Technician Assigned";break;case"order_rescheduled":case"rescheduled":j="bg-purple-500",N="Order Rescheduled";break;case"order_created":case"order_media_uploaded":case"order_media_deleted":j="bg-slate-600",N=Ts(u.action)||"Update";break;case"chat_message":j="bg-blue-500",N="Message";break;case"admin_note":j="bg-slate-500",N="Support note";break;case"order_cancellation_requested":case"order_cancelled":j="bg-red-500",N=Ts(u.action)||"Update";break;default:j="bg-primary-500"}p.push({id:`history-${f}`,title:N,description:[u.message,u.performedBy?`By ${Zd(u.performedBy)}`:null].filter(Boolean).join("  "),timestamp:u.performedAt||u.createdAt,accent:j})}),(m=a.followUp)!=null&&m.reason&&(p.push({id:"follow-up-start",title:"Follow Up Requested",description:a.followUp.reason,timestamp:a.followUp.createdAt,accent:"bg-orange-500",attachments:a.followUp.attachments||[]}),a.followUp.resolvedAt&&p.push({id:"follow-up-resolved",title:"Follow Up Resolved",description:"Case moved out of follow up",timestamp:a.followUp.resolvedAt,accent:"bg-emerald-500"}));const E=u=>{if(!u)return Number.MAX_SAFE_INTEGER;const f=new Date(u).getTime();return Number.isNaN(f)?Number.MAX_SAFE_INTEGER:f};return p.sort((u,f)=>E(u.timestamp)-E(f.timestamp))},[a]),ce=.18,A=l.useMemo(()=>(Array.isArray(o==null?void 0:o.extraWork)?o.extraWork:[]).reduce((k,E)=>k+Number((E==null?void 0:E.amount)??0),0),[o==null?void 0:o.extraWork]),te=l.useMemo(()=>(o==null?void 0:o.spareParts)??[],[o==null?void 0:o.spareParts]),Z=l.useMemo(()=>te.reduce((p,k)=>{var u;const E=Number((k==null?void 0:k.quantity)??0),m=Number((k==null?void 0:k.unitPrice)??(typeof(k==null?void 0:k.part)=="object"?((u=k==null?void 0:k.part)==null?void 0:u.unitPrice)??0:0));return p+E*m},0),[te]),ze=l.useMemo(()=>{const p=Number((o==null?void 0:o.finalAmount)??0);return p>0?p:Number((o==null?void 0:o.estimateAmount)??0)+Number((o==null?void 0:o.additionalCharges)??0)+A+Z},[o==null?void 0:o.finalAmount,o==null?void 0:o.estimateAmount,o==null?void 0:o.additionalCharges,A,Z]),Ie=l.useMemo(()=>ze*ce,[ze]),xt=l.useMemo(()=>ze+Ie,[ze,Ie]);if(n)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[s.jsx("div",{className:"absolute inset-0 border-4 border-primary-200 rounded-full"}),s.jsx("div",{className:"absolute inset-0 border-4 border-primary-600 rounded-full border-t-transparent animate-spin"})]}),s.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Loading order details..."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait a moment"})]})});if(i||!a)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl p-12 text-center",children:[s.jsx(as,{className:"w-20 h-20 text-red-500 mx-auto mb-6"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Order Not Found"}),s.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"We couldn't find the order you're looking for. It may have been removed or the link is incorrect."}),s.jsxs(ie,{to:"/orders",className:"inline-flex items-center px-8 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-all shadow-md hover:shadow-lg",children:[s.jsx(rs,{className:"w-5 h-5 mr-2"}),"View All Orders"]})]})})});const Ee=je(a.status),Xe=Ke(a.status);return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 sm:py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(B.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>e("/orders"),className:"flex items-center text-gray-600 hover:text-primary-600 mb-8 transition-colors group",children:[s.jsx(rs,{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform"}),s.jsx("span",{className:"font-medium",children:"Back to Orders"})]}),s.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`${Ee.bg} ${Ee.border} border-2 rounded-2xl shadow-lg p-8 sm:p-12 mb-8`,children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"mb-6",children:we(a.status)}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-3",children:Xe.title}),s.jsx("p",{className:"text-gray-600 text-lg mb-6 max-w-2xl",children:Xe.description}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[s.jsxs("div",{className:"inline-flex items-center space-x-4 bg-white px-6 py-3 rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jr,{className:"w-5 h-5 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Order ID:"}),s.jsx("span",{className:"text-sm font-mono font-bold text-gray-900",children:a.orderCode})]}),(o==null?void 0:o.otp)&&s.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"OTP:"}),s.jsx("span",{className:"font-mono font-semibold tracking-widest text-gray-900",children:o.otp})]})]}),s.jsx("span",{className:`${Ee.bg} ${Ee.color} ${Ee.border} border px-6 py-3 rounded-lg font-bold text-sm shadow-sm`,children:Ee.text.toUpperCase()}),["cancelled","completed"].includes(a.status.toLowerCase())||a.status.toLowerCase()==="cancellation_requested"?null:s.jsx("button",{onClick:()=>{if(!window.confirm("Do you want to request cancellation for this order?"))return;const k=window.prompt("Optional: Provide a reason for cancellation")||void 0;G.mutate(k!=null&&k.trim()?k.trim():void 0)},disabled:G.isPending,className:"inline-flex items-center px-6 py-3 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition-all shadow-sm disabled:opacity-50",children:G.isPending?"Submitting":"Request Cancellation"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-md p-6 sm:p-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Ma,{className:"w-6 h-6 text-primary-600 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Services Booked"})]}),s.jsx("div",{className:"space-y-4",children:a.services.map((p,k)=>s.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:p.serviceName||"Service"}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("span",{children:["Quantity: ",p.quantity]}),p.issueDescription&&s.jsx("span",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded",children:"Custom Request"})]}),p.issueDescription&&s.jsxs("p",{className:"mt-2 text-sm text-gray-600 italic",children:['"',p.issueDescription,'"']})]}),s.jsxs("div",{className:"text-right ml-4",children:[s.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",p.estimatedCost.toFixed(2)]}),s.jsx("p",{className:"text-xs text-gray-500",children:"per service"})]})]},k))}),s.jsx("div",{className:"mt-6 pt-6 border-t-2 border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Rt,{className:"w-6 h-6 text-primary-600 mr-2"}),s.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Total Amount"})]}),s.jsxs("span",{className:"text-3xl font-bold text-primary-600",children:["",a.estimatedCost.toFixed(2)]})]})})]}),s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-md p-6 sm:p-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Oa,{className:"w-6 h-6 text-primary-600 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Schedule Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Order Placed"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:Mt(a.createdAt)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Scheduled Service"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-base font-semibold text-gray-900",children:Mt(a.timeWindowStart)}),s.jsx("span",{className:"mx-1 text-black/50",children:""}),s.jsx("p",{className:"text-sm text-gray-600",children:Mt(a.timeWindowEnd)})]})]})]}),a.notes&&s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Additional Notes"}),s.jsx("p",{className:"text-gray-900 bg-gray-50 p-4 rounded-lg",children:a.notes})]})]}),((nt=a.customerApproval)==null?void 0:nt.status)==="pending"&&(((it=a.customerApproval.requestedItems)==null?void 0:it.length)??0)>0&&s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.32},className:"rounded-2xl border-2 border-amber-300 bg-amber-50/80 p-6 sm:p-8",children:[s.jsx("h3",{className:"text-lg font-bold text-amber-900 mb-2",children:"Additional items requested"}),s.jsx("p",{className:"text-sm text-amber-800 mb-4",children:"Your technician or support team has requested the following additions. Approve to add them to your job, or reject to decline."}),s.jsx("ul",{className:"space-y-2 mb-6",children:a.customerApproval.requestedItems.map((p,k)=>s.jsxs("li",{className:"flex justify-between items-center bg-white/80 rounded-lg px-4 py-3",children:[s.jsxs("span",{className:"font-medium text-gray-900",children:[p.label??p.serviceName??p.description??(p.type==="spare_part"?"Spare part":"Additional service"),p.quantity!=null&&p.quantity>1&&`  ${p.quantity}`]}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",((p.amount??0)||(p.quantity??1)*(p.unitPrice??0)).toFixed(2)]})]},k))}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>K.mutate(void 0),disabled:K.isPending||I.isPending,className:"flex-1 py-3 px-4 rounded-lg font-semibold bg-green-600 text-white hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:K.isPending?"Approving":"Approve"}),s.jsx("button",{onClick:()=>I.mutate(void 0),disabled:K.isPending||I.isPending,className:"flex-1 py-3 px-4 rounded-lg font-semibold bg-red-600 text-white hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:I.isPending?"Rejecting":"Reject"})]})]}),s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"bg-white rounded-2xl shadow-md p-6 sm:p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Activity & Chat"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Stay updated and message support"})]}),s.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Activity Tracking"}),pe.length>0&&s.jsxs("span",{className:"text-xs text-gray-400",children:[pe.length," entries"]})]}),pe.length===0?s.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"No activity recorded yet for this order."}):s.jsx("ol",{className:"mt-4 space-y-4 border-l border-gray-200 pl-4 max-h-64 overflow-y-auto pr-2",children:pe.map(p=>s.jsxs("li",{className:"relative pl-4",children:[s.jsx("span",{className:`absolute -left-2 top-2 block h-3 w-3 rounded-full ${p.accent||"bg-gray-300"}`}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:p.title}),p.description&&s.jsx("p",{className:"text-xs text-gray-500",children:p.description}),p.attachments&&p.attachments.length>0&&s.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:p.attachments.map((k,E)=>s.jsx("div",{className:"rounded-lg overflow-hidden border border-gray-100 bg-white",children:k.kind==="video"?s.jsx("video",{src:k.url,className:"w-full h-24 object-cover",controls:!0}):s.jsx("button",{type:"button",onClick:()=>{b({open:!0,url:k.url}),V(100)},className:"block w-full text-left",children:s.jsx("img",{src:k.url,alt:k.name||"Attachment",className:"w-full h-24 object-cover cursor-pointer hover:opacity-90 transition-opacity"})})},`${k.url}-${E}`))}),p.timestamp&&s.jsx("p",{className:"text-[11px] text-gray-400 mt-1",children:Mt(p.timestamp)})]},p.id))})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[a.assignedTechnician&&s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.38},className:"bg-white rounded-2xl shadow-md p-6 sm:p-8 border border-primary-100",children:[s.jsxs("div",{className:"flex items-center mb-5",children:[s.jsx(sr,{className:"w-6 h-6 text-primary-600 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Your Technician"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:a.assignedTechnician.name||"Technician"}),s.jsxs("div",{className:"space-y-3",children:[a.assignedTechnician.mobile&&s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(Ct,{className:"w-5 h-5 text-gray-400 mr-3 flex-shrink-0"}),s.jsx("a",{href:`tel:${a.assignedTechnician.mobile}`,className:"text-primary-600 hover:text-primary-700 font-medium hover:underline",children:a.assignedTechnician.mobile})]}),a.assignedTechnician.email&&s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(kt,{className:"w-5 h-5 text-gray-400 mr-3 flex-shrink-0"}),s.jsx("a",{href:`mailto:${a.assignedTechnician.email}`,className:"text-primary-600 hover:text-primary-700 hover:underline break-all",children:a.assignedTechnician.email})]})]}),(h==null?void 0:h.lastCheckInAt)&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600 pt-2 border-t border-gray-100",children:[s.jsx(rt,{className:"w-5 h-5 text-gray-400 mr-3 flex-shrink-0"}),s.jsxs("span",{children:["Last checked in ",Mt(h.lastCheckInAt)]})]})]})]}),s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-md p-6 sm:p-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(ut,{className:"w-6 h-6 text-primary-600 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Service Location"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-3",children:a.customer.name}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsx("p",{children:a.customer.addressLine1}),a.customer.addressLine2&&s.jsx("p",{children:a.customer.addressLine2}),s.jsxs("p",{className:"font-medium text-gray-900",children:[a.customer.city,", ",a.customer.state]}),s.jsx("p",{className:"font-medium text-gray-900",children:a.customer.postalCode})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(Ct,{className:"w-5 h-5 text-gray-400 mr-3"}),s.jsx("span",{className:"text-gray-900 font-medium",children:a.customer.phone})]}),a.customer.email&&s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx(kt,{className:"w-5 h-5 text-gray-400 mr-3"}),s.jsx("span",{className:"text-gray-900",children:a.customer.email})]})]})]})]}),s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},className:"bg-white rounded-2xl shadow-md p-6 sm:p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(jr,{className:"w-6 h-6 text-primary-600 mr-3"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Documents & Photos"})]}),R&&s.jsxs(s.Fragment,{children:[s.jsx("input",{ref:le,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",multiple:!0,className:"hidden",onChange:p=>{const k=p.target.files?Array.from(p.target.files):[];k.length&&$.mutate(k)}}),s.jsxs("button",{type:"button",onClick:()=>{var p;return(p=le.current)==null?void 0:p.click()},disabled:$.isPending,className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-primary-600 text-primary-600 hover:bg-primary-50 font-medium text-sm transition-colors disabled:opacity-60 disabled:cursor-not-allowed",children:[s.jsx(xo,{className:"w-5 h-5"}),$.isPending?"Uploading...":"Upload images"]})]})]}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Upload photos of the issue you booked the service for. Helps our technician prepare."}),a.media&&a.media.length>0?s.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.media.map((p,k)=>s.jsx("div",{className:"rounded-xl border border-gray-100 bg-gray-50 overflow-hidden",children:p.kind==="image"?s.jsx("button",{type:"button",onClick:()=>{b({open:!0,url:p.url}),V(100)},className:"block w-full text-left",children:s.jsx("img",{src:p.url,alt:p.name||`Image ${k+1}`,className:"w-full h-32 object-cover cursor-pointer hover:opacity-90 transition-opacity"})}):p.kind==="video"?s.jsx("div",{className:"bg-black",children:s.jsx("video",{src:p.url,className:"w-full h-32 object-cover",controls:!0})}):s.jsxs("div",{className:"h-32 flex flex-col items-center justify-center px-3 text-center text-xs text-gray-600",children:[s.jsx("span",{className:"font-semibold mb-1",children:"Document"}),s.jsx("span",{className:"line-clamp-2 break-all",children:p.name||"File"})]})},p._id??`${p.url}-${k}`))}):s.jsx("p",{className:"text-sm text-gray-500",children:"No documents uploaded for this order."})]}),s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-2xl shadow-md p-6 border border-primary-200",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Need Help?"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Have questions about your order? Our support team is here to help."}),s.jsx("button",{className:"w-full bg-white text-primary-600 font-semibold py-3 px-4 rounded-lg hover:bg-primary-600 hover:text-white transition-colors shadow-sm",children:"Contact Support"})]}),o&&s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.55},className:"bg-white rounded-2xl shadow-md p-6 sm:p-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Job Summary"}),(((gt=o.extraWork)==null?void 0:gt.length)>0||((ot=o.spareParts)==null?void 0:ot.length)>0)&&s.jsxs("div",{className:"mb-4",children:[((M=o.extraWork)==null?void 0:M.length)>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Extra Work"}),s.jsx("ul",{className:"space-y-1 text-sm text-gray-700",children:o.extraWork.map((p,k)=>s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:p.description}),s.jsxs("span",{children:["",p.amount.toFixed(2)]})]},k))})]}),((Y=o.spareParts)==null?void 0:Y.length)>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Spare Parts"}),s.jsx("ul",{className:"space-y-1 text-sm text-gray-700",children:o.spareParts.map((p,k)=>s.jsxs("li",{className:"flex justify-between",children:[s.jsxs("span",{children:[p.name,"(x",p.quantity,")"]}),s.jsxs("span",{children:["",(p.quantity*p.unitPrice).toFixed(2)]})]},k))})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Services"}),a.services.map(p=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:p.serviceName}),s.jsxs("span",{className:"text-gray-600",children:["",p.estimatedCost.toFixed(2)]})]})),s.jsxs("div",{className:"border-t pt-2 flex justify-between",children:[s.jsx("span",{className:"text-gray-900 font-medium",children:"Subtotal"}),s.jsxs("span",{className:"text-gray-900 font-bold",children:["",ze.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"GST (18%)"}),s.jsxs("span",{className:"font-semibold",children:["",Ie.toFixed(2)]})]}),s.jsxs("div",{className:"border-t pt-2 flex justify-between",children:[s.jsx("span",{className:"text-gray-900 font-medium",children:"Grand Total"}),s.jsxs("span",{className:"text-primary-600 font-bold",children:["",xt.toFixed(2)]})]}),c&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"border-t pt-2 mt-2 space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Total Paid"}),s.jsxs("span",{className:"text-green-600 font-semibold",children:["",c.totalPaid.toFixed(2)]})]}),c.remainingBalance>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Remaining Balance"}),s.jsxs("span",{className:"text-red-600 font-semibold",children:["",c.remainingBalance.toFixed(2)]})]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Payment Status: ",s.jsx("span",{className:`font-semibold ${c.isFullyPaid?"text-green-600":c.isPartiallyPaid?"text-yellow-600":"text-red-600"}`,children:c.isFullyPaid?"Fully Paid":c.isPartiallyPaid?"Partially Paid":"Pending Payment"})]}),d.length>0&&s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[d.length," payment",d.length>1?"s":""," received"]})]}),(o==null?void 0:o.paymentStatus)!=="paid"&&c.remainingBalance>0&&s.jsxs("button",{onClick:()=>{F("razorpay"),v(!0)},className:"w-full mt-3 bg-primary-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-primary-700 transition-colors",children:["Pay Remaining ",c.remainingBalance.toFixed(2)]})]})]})]})]})]}),s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-8 flex flex-col sm:flex-row gap-4",children:[s.jsx(ie,{to:"/",className:"flex-1 bg-primary-600 text-white py-4 px-8 rounded-xl font-bold hover:bg-primary-700 transition-all text-center shadow-md hover:shadow-xl transform hover:-translate-y-0.5",children:"Browse More Services"}),s.jsx(ie,{to:"/orders",className:"flex-1 bg-white border-2 border-gray-300 text-gray-700 py-4 px-8 rounded-xl font-bold hover:border-primary-600 hover:text-primary-600 transition-all text-center shadow-sm hover:shadow-md",children:"View All Orders"})]}),g&&c&&c.remainingBalance>0&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Pay Remaining Amount"}),s.jsx("button",{onClick:()=>{v(!1)},className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("p",{className:"text-gray-600 mb-4",children:["Remaining balance: ",s.jsxs("span",{className:"font-bold text-primary-600",children:["",c.remainingBalance.toFixed(2)]})]}),s.jsx("div",{className:"space-y-3 mb-6",children:s.jsx("button",{onClick:()=>F("razorpay"),className:`w-full p-4 border-2 rounded-lg text-left transition-all ${w==="razorpay"?"border-primary-600 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Online Payment"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Card, UPI, Netbanking & Wallets"})]}),w==="razorpay"&&s.jsx(mt,{className:"w-6 h-6 text-primary-600"})]})})}),s.jsx("div",{className:"flex gap-3",children:s.jsx("button",{onClick:async()=>{var p,k;if(!(!w||!x||!t)){S(!0);try{if(w==="razorpay"){const E=await jt.initializeRemainingPayment(t,"razorpay");if(!E.razorpayOrder)throw new Error("Failed to initialize Razorpay payment");const m={key:E.razorpayOrder.key,amount:E.razorpayOrder.amount*100,currency:E.razorpayOrder.currency,name:"Fixzep",description:`Payment for remaining balance - Order #${t}`,order_id:E.razorpayOrder.id,handler:async f=>{var j,N;try{await jt.confirmPayment({paymentId:E._id,orderId:t,razorpayPaymentId:f.razorpay_payment_id,razorpayOrderId:f.razorpay_order_id,razorpaySignature:f.razorpay_signature}),oe.success("Payment successful!"),v(!1),r.invalidateQueries({queryKey:["orderPaymentBalance",t]}),r.invalidateQueries({queryKey:["orderPayments",t]}),r.invalidateQueries({queryKey:["orderJobCard",t]})}catch(C){oe.error(((N=(j=C==null?void 0:C.response)==null?void 0:j.data)==null?void 0:N.message)||"Payment confirmation failed")}finally{S(!1)}},prefill:{name:(x==null?void 0:x.name)||"",email:(x==null?void 0:x.email)||"",contact:(x==null?void 0:x.phone)||""},theme:{color:"#0f172a"},modal:{ondismiss:()=>{oe.error("Payment cancelled"),S(!1)}}},u=new window.Razorpay(m);u.on("payment.failed",f=>{oe.error(`Payment failed: ${f.error.description||"Unknown error"}`),S(!1)}),u.open()}}catch(E){oe.error(((k=(p=E==null?void 0:E.response)==null?void 0:p.data)==null?void 0:k.message)||"Payment processing failed"),S(!1)}}},disabled:!w||y,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg font-semibold hover:bg-primary-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:y?"Processing...":"Proceed to Payment"})})]})}),O.open&&O.url&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4",onClick:()=>b({open:!1,url:null}),role:"dialog","aria-modal":"true","aria-label":"View image",children:s.jsxs("div",{className:"relative m-top-10 flex min-w-[95vw] min-h-[95vh] flex-col items-center",onClick:p=>p.stopPropagation(),children:[s.jsx("button",{type:"button",onClick:()=>b({open:!1,url:null}),className:"absolute -top-10 right-0 rounded-full bg-white/90 p-2 text-gray-700 hover:bg-white z-10","aria-label":"Close",children:s.jsx(qt,{className:"w-6 h-6"})}),s.jsx("div",{className:"overflow-auto rounded-lg bg-gray-900 flex items-center justify-center min-h-[200px]",children:s.jsx("img",{src:O.url,alt:"Enlarged view",className:"min-w-[75vw] min-h-[75vh] object-contain transition-transform duration-200",style:{transform:`scale(${_/100})`},draggable:!1})}),s.jsxs("div",{className:"mt-4 flex items-center gap-3 rounded-full bg-white/90 px-4 py-2 shadow-lg",children:[s.jsx("button",{type:"button",onClick:()=>V(p=>Math.max(q,p-P)),disabled:_<=q,className:"p-2 rounded-full hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Zoom out",children:s.jsx(zo,{className:"w-6 h-6 text-gray-700"})}),s.jsxs("span",{className:"text-sm font-medium text-gray-800 min-w-[3rem] text-center",children:[_,"%"]}),s.jsx("button",{type:"button",onClick:()=>V(p=>Math.min(se,p+P)),disabled:_>=se,className:"p-2 rounded-full hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Zoom in",children:s.jsx(Ho,{className:"w-6 h-6 text-gray-700"})})]})]})})]})})},Kd=()=>{var pe,ce;const t=Qe(),e=Zs(),[r,a]=l.useState(!1),[n,i]=l.useState(!1),[o,c]=l.useState(null),[d,h]=l.useState(!1),[x,g]=l.useState(!1),{token:v,user:w,setAuth:F,clearAuth:y}=De(),[S,O]=l.useState({name:"",phone:""}),[b,_]=l.useState(!1),[V,q]=l.useState({}),[se,P]=l.useState(!1),[G,K]=l.useState(!1),{data:I,isLoading:le,error:$}=ge({queryKey:["me"],queryFn:qe.getCurrentUser}),{data:R,isLoading:ee,error:U}=ge({queryKey:["addresses"],queryFn:Nt.getAddresses}),ae=$e({mutationFn:A=>Nt.markPreferred(A),onSuccess:()=>{e.invalidateQueries({queryKey:["addresses"]}),D.success("Default address updated")},onError:A=>{var te,Z;D.error(((Z=(te=A==null?void 0:A.response)==null?void 0:te.data)==null?void 0:Z.message)||"Failed to update default address")}}),X=$e({mutationFn:A=>Nt.deleteAddress(A),onSuccess:()=>{e.invalidateQueries({queryKey:["addresses"]}),D.success("Address removed")},onError:A=>{var te,Z;D.error(((Z=(te=A==null?void 0:A.response)==null?void 0:te.data)==null?void 0:Z.message)||"Failed to remove address")}}),ve=$e({mutationFn:A=>qe.updateProfile(A),onSuccess:A=>{e.invalidateQueries({queryKey:["me"]}),v&&F(v,A),D.success("Profile updated"),q({}),P(!1)},onError:A=>{var te,Z;D.error(((Z=(te=A==null?void 0:A.response)==null?void 0:te.data)==null?void 0:Z.message)||"Failed to update profile")}}),we=$e({mutationFn:()=>qe.deactivateAccount(),onSuccess:()=>{D.success("Account deactivated temporarily"),qe.logout().catch(()=>{}),y(),K(!1),t("/")},onError:A=>{var te,Z;D.error(((Z=(te=A==null?void 0:A.response)==null?void 0:te.data)==null?void 0:Z.message)||"Failed to deactivate account")}}),je=()=>{const A={};return S.name.trim()||(A.name="Name is required"),S.phone&&!/^\+?[0-9\-\s()]{6,}$/.test(S.phone.trim())&&(A.phone="Enter a valid phone number"),q(A),Object.keys(A).length===0},Ke=async()=>{var A,te;try{const Z=(I==null?void 0:I.email)||(w==null?void 0:w.email);if(!Z){D.error("Email not available for reset");return}await qe.forgotPassword(Z),D.success("Reset link sent to your email"),_(!1)}catch(Z){D.error(((te=(A=Z==null?void 0:Z.response)==null?void 0:A.data)==null?void 0:te.message)||"Failed to send reset email")}};return le||ee?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"space-y-3 text-center",children:[s.jsx("div",{className:"h-6 w-40 bg-gray-200 rounded mx-auto animate-pulse"}),s.jsx("div",{className:"h-5 w-64 bg-gray-200 rounded mx-auto animate-pulse"})]})}):v?$?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load profile. Please try again."}),s.jsx("button",{onClick:()=>e.invalidateQueries({queryKey:["me"]}),className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Retry"})]})})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12",children:[s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 overflow-hidden rounded-2xl",children:s.jsx("div",{className:"relative bg-gradient-to-r from-gray-900 to-gray-700",children:s.jsx("div",{className:"px-6 py-8 sm:px-8 sm:py-10",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border border-white/20 bg-white/10 backdrop-blur-sm flex items-center justify-center",children:s.jsx(sr,{className:"w-10 h-10 text-white/80"})}),s.jsxs("div",{className:"text-white",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"My Profile"}),s.jsx("p",{className:"text-sm sm:text-base text-white/80",children:"Manage your account and addresses"})]})]})})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-start gap-5",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 font-bold text-xl border border-gray-200",children:((ce=(pe=I==null?void 0:I.name)==null?void 0:pe[0])==null?void 0:ce.toUpperCase())||"U"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:I==null?void 0:I.name}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(kt,{className:"w-4 h-4"}),s.jsx("span",{children:I==null?void 0:I.email})]}),(I==null?void 0:I.phone)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Ct,{className:"w-4 h-4"}),s.jsx("span",{children:I.phone})]})]})})]}),s.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-3",children:[s.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200 transition-colors",onClick:()=>{q({}),O({name:(I==null?void 0:I.name)||"",phone:(I==null?void 0:I.phone)||""}),P(!0)},children:[s.jsx(js,{className:"w-5 h-5 inline mr-2"})," Edit Profile"]}),s.jsx("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-800 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>_(!0),children:"Change Password"}),s.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",onClick:()=>K(!0),children:[s.jsx(es,{className:"w-5 h-5 inline mr-2"})," Delete Account (Temporary)"]})]})]}),s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"lg:col-span-2 bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"My Addresses"}),R&&s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 text-gray-800 text-xs",children:R.length})]}),s.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-900 transition-colors",children:"Add Address"})]}),U&&s.jsx("p",{className:"text-red-600 text-sm mb-3",children:"Failed to load addresses"}),!R||R.length===0?s.jsx("div",{className:"text-center py-10",children:s.jsx("p",{className:"text-gray-500",children:"No addresses yet. Add one to speed up checkout."})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:R.map(A=>s.jsxs("div",{className:`group rounded-xl border ${A.isDefault?"border-gray-300 bg-gray-50":"border-gray-200"} p-4 sm:p-5 hover:shadow-md transition-all`,children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-gray-100 text-gray-800 text-xs font-medium",children:[s.jsx(ut,{className:"w-3.5 h-3.5"})," ",A.label]}),A.isDefault&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-black text-white text-xs font-semibold",children:[s.jsx(ml,{className:"w-3.5 h-3.5"})," Default"]})]}),s.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[!A.isDefault&&s.jsx("button",{onClick:()=>ae.mutate(A._id),className:"px-3 py-1.5 text-xs font-medium rounded-lg border border-gray-300 text-gray-800 hover:bg-gray-50",children:"Make Default"}),s.jsx("button",{onClick:()=>{c(A),i(!0)},className:"px-3 py-1.5 text-xs font-medium rounded-lg border border-gray-300 text-gray-800 hover:bg-gray-50",children:s.jsx(js,{className:"w-4 h-4 inline mr-1"})}),s.jsx("button",{onClick:()=>X.mutate(A._id),className:"px-3 py-1.5 text-xs font-medium rounded-lg border border-red-200 text-red-700 hover:bg-red-50",children:s.jsx(es,{className:"w-4 h-4 inline mr-1"})})]})]}),s.jsxs("div",{className:"mt-3 space-y-1.5",children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[A.contactName,"  ",A.phone]}),s.jsx("p",{className:"text-sm text-gray-700",children:A.line1}),A.line2&&s.jsx("p",{className:"text-sm text-gray-700",children:A.line2}),s.jsxs("p",{className:"text-sm text-gray-700",children:[A.city,", ",A.state," ",A.postalCode]}),A.notes&&s.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:A.notes})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2 sm:hidden",children:[!A.isDefault&&s.jsx("button",{onClick:()=>ae.mutate(A._id),className:"px-3 py-2 text-xs font-medium rounded-lg border border-gray-300 text-gray-800 hover:bg-gray-50",children:"Make Default"}),s.jsx("button",{onClick:()=>{c(A),i(!0)},className:"px-3 py-2 text-xs font-medium rounded-lg border border-gray-300 text-gray-800 hover:bg-gray-50",children:s.jsx(js,{className:"w-4 h-4 inline mr-1"})}),s.jsx("button",{onClick:()=>X.mutate(A._id),className:"px-3 py-2 text-xs font-medium rounded-lg border border-red-200 text-red-700 hover:bg-red-50",children:s.jsx(es,{className:"w-4 h-4 inline mr-1"})})]})]},A._id))})]})]}),s.jsx(Ys,{isOpen:r,onClose:()=>a(!1)}),n&&o&&s.jsx(Ys,{isOpen:n,onClose:()=>{i(!1),c(null)},address:o})]}),b&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Reset Password"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"We will send a reset link to your registered email."}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{value:(I==null?void 0:I.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",onClick:()=>_(!1),children:"Cancel"}),s.jsx("button",{className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-900",onClick:Ke,children:"Send Link"})]})]})}),se&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Edit Profile"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Update your personal details below."}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),s.jsx("input",{value:S.name,onChange:A=>O(te=>({...te,name:A.target.value})),placeholder:"John Doe",className:`w-full px-3 py-2 border ${V.name?"border-red-300 focus:ring-red-300":"border-gray-300 focus:ring-gray-300"} rounded-lg focus:outline-none focus:ring-2`}),V.name&&s.jsxs("p",{className:"mt-1 text-xs text-red-600 flex items-center gap-1",children:[s.jsx(Nr,{className:"w-4 h-4"})," ",V.name]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{value:S.phone,onChange:A=>O(te=>({...te,phone:A.target.value})),placeholder:"555-123-4567",className:`w-full px-3 py-2 border ${V.phone?"border-red-300 focus:ring-red-300":"border-gray-300 focus:ring-gray-300"} rounded-lg focus:outline-none focus:ring-2`}),V.phone&&s.jsxs("p",{className:"mt-1 text-xs text-red-600 flex items-center gap-1",children:[s.jsx(Nr,{className:"w-4 h-4"})," ",V.phone]})]})]}),s.jsxs("div",{className:"mt-6 flex items-center justify-end gap-2",children:[s.jsx("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",onClick:()=>{P(!1),q({})},children:"Cancel"}),s.jsx("button",{className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-900",onClick:()=>{if(!je()){D.error("Please fix the highlighted fields");return}ve.mutate({name:S.name,phone:S.phone})},disabled:ve.isPending,children:ve.isPending?"Saving":"Save Changes"})]})]})}),G&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Temporarily Delete Account"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This will deactivate your account. You wont be able to place orders or access your profile until reactivated."}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",onClick:()=>K(!1),children:"Cancel"}),s.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",onClick:()=>we.mutate(),disabled:we.isPending,children:we.isPending?"Deactivating":"Deactivate"})]})]})})]}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Login Required"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please sign in to view your profile."}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("button",{onClick:()=>h(!0),className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Sign In"}),s.jsx("button",{onClick:()=>g(!0),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Create Account"})]})]}),s.jsx(qa,{isOpen:d,onClose:()=>h(!1),onSwitchToSignup:()=>{h(!1),g(!0)}}),s.jsx($a,{isOpen:x,onClose:()=>g(!1),onSwitchToLogin:()=>{g(!1),h(!0)}})]})})},Xd="Your Company",Gd="Your Parent Company",Jd=()=>s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-10 sm:py-14",children:[s.jsxs("section",{className:"mb-12 sm:mb-16",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-gray-200 bg-white px-3 py-1 text-xs font-medium text-gray-700 shadow-sm",children:[s.jsx(bo,{className:"h-4 w-4 text-primary-600"})," Indias First AI-Integrated Workforce Ecosystem"]}),s.jsxs("h1",{className:"mt-4 text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900",children:["About ",Xd]}),s.jsx("p",{className:"mt-4 max-w-3xl text-gray-700 text-base sm:text-lg leading-relaxed",children:"We enable AI-powered workforce transformation across the full lifecycle  training, certification, deployment, and continuous monitoring. Our platform focuses on blue-collar and service professionals, creating structured, scalable, and trustworthy services for enterprises and citizens alike."})]}),s.jsx("section",{className:"mb-12 sm:mb-16",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{title:"Empowering Skills",points:["AI-powered training & certification","Continuous upskilling & employment pathways"],Icon:ws},{title:"Enabling Trust",points:["Verified professionals","Transparency, accountability, and reliability"],Icon:al},{title:"Building the Future",points:["End-to-end workforce ecosystem","Inclusive economic growth"],Icon:wr}].map(({title:t,points:e,Icon:r})=>s.jsxs(B.div,{initial:{opacity:0,y:12},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"rounded-xl bg-primary-50 p-2",children:s.jsx(r,{className:"h-6 w-6 text-primary-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})]}),s.jsx("ul",{className:"mt-4 space-y-2 text-sm text-gray-700",children:e.map(a=>s.jsx("li",{className:"leading-relaxed",children:a},a))})]},t))})}),s.jsxs("section",{className:"mb-12 sm:mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Our Integrated Verticals"}),s.jsx("p",{className:"mt-2 max-w-3xl text-gray-700",children:"A unified ecosystem where training feeds deployment, deployment drives data, and data refines learning  compounding capability and trust."}),s.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[{title:"Academy",desc:"Training & certification for workforce excellence."},{title:"On-Demand Marketplace",desc:"Quality-assured services across cities."},{title:"Enterprise / FM",desc:"Facility management with predictive operations."},{title:"Subscription Home Services",desc:"Reliable recurring services for households."},{title:"B2B Project Execution",desc:"Structured delivery for large-scale projects."}].map(t=>s.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:t.title}),s.jsx("p",{className:"mt-2 text-sm text-gray-700 leading-relaxed",children:t.desc})]},t.title))})]}),s.jsx("section",{className:"mb-12 sm:mb-16",children:s.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm flex flex-col items-center text-center",children:[s.jsx("div",{className:"mb-4 inline-flex items-center justify-center rounded-xl bg-primary-50 p-4",children:s.jsx(wr,{className:"h-10 w-10 text-primary-600"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"The Platform Advantage"}),s.jsx("p",{className:"mt-3 max-w-3xl text-gray-700",children:"A continuous feedback loop across training  deployment  analytics  retraining builds a durable competitive moat and accelerates operational excellence."}),s.jsx("div",{className:"mt-6 h-40 w-full rounded-xl bg-gradient-to-r from-gray-100 to-gray-200","aria-label":"Illustration placeholder"})]})}),s.jsxs("section",{className:"mb-12 sm:mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Supporting National Missions"}),s.jsx("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[{title:"Skill India",desc:"Large-scale skilling with measurable outcomes.",Icon:ws},{title:"Digital India",desc:"AI-first, data-driven workforce infrastructure.",Icon:Wo},{title:"Smart Cities Mission",desc:"Predictive, transparent city services.",Icon:Ko},{title:"Startup India",desc:"Scale-ready platform with strong moat.",Icon:ho}].map(({title:t,desc:e,Icon:r})=>s.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"rounded-lg bg-primary-50 p-2",children:s.jsx(r,{className:"h-5 w-5 text-primary-600"})}),s.jsx("h3",{className:"font-semibold text-gray-900",children:t})]}),s.jsx("p",{className:"mt-2 text-sm text-gray-700 leading-relaxed",children:e})]},t))})]}),s.jsx("section",{className:"mb-12 sm:mb-16",children:s.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[{k:"5K+",v:"Jobs Created"},{k:"50K+",v:"National Scale Target"},{k:"30%",v:"Efficiency Gain"},{k:"100+",v:"Market Opportunity"}].map(({k:t,v:e})=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"text-3xl font-extrabold text-gray-900",children:t}),s.jsx("div",{className:"mt-1 text-sm text-gray-600",children:e})]},e))})})}),s.jsxs("section",{className:"mb-12 sm:mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Technology-Driven Excellence"}),s.jsx("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[{title:"AI Learning & Certification",desc:"Adaptive learning, proctored assessments, and verifiable credentials at scale.",Icon:ws},{title:"AI Predictive Operations",desc:"Demand forecasting, workforce routing, and real-time quality monitoring.",Icon:ko},{title:"Digital Core Platform",desc:"Secure identity, payments, analytics, and API-first integrations.",Icon:wo}].map(({title:t,desc:e,Icon:r})=>s.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"rounded-xl bg-primary-50 p-2",children:s.jsx(r,{className:"h-6 w-6 text-primary-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})]}),s.jsx("p",{className:"mt-3 text-sm text-gray-700 leading-relaxed",children:e})]},t))})]}),s.jsxs("section",{className:"mb-12 sm:mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Strategic Vision & Growth Roadmap"}),s.jsxs("div",{className:"mt-6 relative",children:[s.jsx("div",{className:"absolute left-1/2 top-0 -ml-px h-full w-0.5 bg-gray-200 hidden md:block"}),s.jsx("div",{className:"space-y-8",children:[{title:"Foundation & Validation",desc:"Pilot programs, proof of value, early partnerships."},{title:"Regional Expansion",desc:"Multi-city deployment with quality and scale."},{title:"Tech Enhancement & Diversification",desc:"Advanced AI features, new service verticals."},{title:"National Dominance & Ecosystem Maturity",desc:"Pan-India network with strong flywheel effects."}].map((t,e)=>s.jsx("div",{className:"md:grid md:grid-cols-2 md:items-center md:gap-8",children:s.jsxs("div",{className:`rounded-xl border border-gray-200 bg-white p-6 shadow-sm ${e%2===0?"md:col-start-1":"md:col-start-2"}`,children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:t.title}),s.jsx("p",{className:"mt-2 text-sm text-gray-700 leading-relaxed",children:t.desc})]})},t.title))})]})]}),s.jsxs("section",{className:"mb-12 sm:mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Flywheel Model"}),s.jsx("div",{className:"mt-6 rounded-2xl border border-gray-200 bg-white p-6 shadow-sm flex flex-col items-center",children:s.jsxs("div",{className:"relative h-64 w-64",children:[s.jsxs("svg",{viewBox:"0 0 200 200",className:"h-full w-full",children:[s.jsx("circle",{cx:"100",cy:"100",r:"78",className:"fill-none stroke-gray-300",strokeWidth:"2"}),s.jsx("circle",{cx:"100",cy:"100",r:"48",className:"fill-none stroke-primary-400",strokeWidth:"3"})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"rounded-full bg-primary-600 text-white px-4 py-2 text-sm font-semibold",children:"Continuous Loop"})}),["Skilled Workforce","Verified Service","Quality Delivery","Customer Feedback","Data Insights","Enhanced Training"].map((t,e)=>{const r=e/6*2*Math.PI,a=88,n=100+a*Math.cos(r),i=100+a*Math.sin(r);return s.jsx("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 text-xs font-medium text-gray-700",style:{left:`${n}px`,top:`${i}px`},children:t},t)})]})})]}),s.jsxs("section",{className:"mb-12 sm:mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Market Opportunity"}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:s.jsx("div",{className:"grid grid-cols-3 gap-4 text-center",children:[{k:"$300B+",v:"Market Size"},{k:"15%+",v:"Projected Growth"},{k:"500M+",v:"Workforce Potential"}].map(({k:t,v:e})=>s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-extrabold text-gray-900",children:t}),s.jsx("div",{className:"mt-1 text-xs text-gray-600",children:e})]},e))})}),s.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"h-48 w-full rounded-lg bg-gradient-to-r from-gray-100 to-gray-200","aria-label":"India growth illustration placeholder"}),s.jsx("p",{className:"mt-3 text-sm text-gray-700",children:"Expanding across Indian metros and Tier-2/3 cities with AI-enabled supply orchestration and demand aggregation."})]})]})]}),s.jsx("section",{className:"mb-12 sm:mb-16",children:s.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["A ",Gd," Initiative"]}),s.jsx("p",{className:"mt-3 max-w-4xl text-gray-700",children:"We are committed to long-term social and economic impact  empowering livelihoods, elevating service quality, and strengthening Indias workforce infrastructure."})]})}),s.jsx("section",{children:s.jsxs("div",{className:"rounded-2xl border border-primary-200 bg-primary-50 p-6 sm:p-8 shadow-sm flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Join Our Mission"}),s.jsx("p",{className:"mt-2 max-w-2xl text-sm text-gray-700",children:"We invite professionals, businesses, and investors to collaborate in building Indias first AI-integrated workforce ecosystem."})]}),s.jsxs("div",{className:"mt-4 sm:mt-0 inline-flex gap-3",children:[s.jsx("button",{className:"rounded-lg bg-gray-900 px-4 py-2 text-sm font-semibold text-white hover:bg-black",children:"For Investors"}),s.jsx("button",{className:"rounded-lg bg-white px-4 py-2 text-sm font-semibold text-gray-900 border border-gray-300 hover:bg-gray-50",children:"For Enterprises"})]})]})})]})}),em=()=>{const{user:t}=De(),[e,r]=l.useState((t==null?void 0:t.name)||""),[a,n]=l.useState((t==null?void 0:t.email)||""),[i,o]=l.useState(""),[c,d]=l.useState("General Inquiry"),[h,x]=l.useState(""),[g,v]=l.useState(!1),w=()=>e.trim()?!a.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?(oe.error("Please enter a valid email"),!1):h.trim()?!0:(oe.error("Please enter your message"),!1):(oe.error("Please enter your name"),!1),F=async y=>{if(y.preventDefault(),!!w()){v(!0);try{const S=encodeURIComponent(`[Fixzep] ${c}`),O=[`Name: ${e}`,`Email: ${a}`,i?`Phone: ${i}`:void 0,"",h].filter(Boolean).join(`
`),b=encodeURIComponent(O),_=`mailto:support@fixzep.com?subject=${S}&body=${b}`;oe.success("Opening your email app"),window.location.href=_}finally{v(!1)}}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("section",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-3",children:"Contact Us"}),s.jsx("p",{className:"text-primary-100 text-lg",children:"Were here to help with bookings, support, and partnerships."}),s.jsxs("div",{className:"mt-6 flex flex-wrap gap-4 text-primary-100",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"w-5 h-5"}),s.jsx("span",{children:"+91 98765 43210"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"w-5 h-5"}),s.jsx("span",{children:"support@fixzep.com"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ut,{className:"w-5 h-5"}),s.jsx("span",{children:"OMR, Chennai"})]})]})]})}),s.jsx("section",{className:"py-12",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Send us a message"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Fill in the form and our team will get back to you within 24 hours."}),s.jsxs("form",{onSubmit:F,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name"}),s.jsx("input",{value:e,onChange:y=>r(y.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:a,onChange:y=>n(y.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"john@example.com"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone (optional)"}),s.jsx("input",{value:i,onChange:y=>o(y.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"9876543210"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),s.jsxs("select",{value:c,onChange:y=>d(y.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{children:"General Inquiry"}),s.jsx("option",{children:"Booking Support"}),s.jsx("option",{children:"Payment & Billing"}),s.jsx("option",{children:"Partnerships"}),s.jsx("option",{children:"Careers"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),s.jsx("textarea",{value:h,onChange:y=>x(y.target.value),rows:5,className:"w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Tell us how we can help"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"We typically respond within 24 hours."}),s.jsx("button",{type:"submit",disabled:g,className:"px-5 py-2.5 rounded-lg bg-primary-600 text-white font-medium hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-60",children:g?"Submitting":"Send Message"})]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Support"}),s.jsxs("div",{className:"space-y-3 text-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ct,{className:"w-5 h-5 text-primary-600"}),s.jsx("span",{children:"Call us: +91 8065429026"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kt,{className:"w-5 h-5 text-primary-600"}),s.jsx("span",{children:"Email: info@fixzep.com"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(rt,{className:"w-5 h-5 text-primary-600"}),s.jsx("span",{children:"Hours: 9:00 AM  7:00 PM (IST)"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Office"}),s.jsx("p",{className:"text-gray-600",children:"2nd floor, No 11 Amma nana kudil,"}),s.jsx("p",{className:"text-gray-600",children:"Gandhi nagar cooperative socity main road,"}),s.jsx("p",{className:"text-gray-600",children:"Perumbakkam village, Tambaram taluk,"}),s.jsx("p",{className:"text-gray-600",children:"Chennai - 600100, Tamil Nadu, India."}),s.jsxs("div",{className:"mt-3 flex items-center gap-2 text-primary-700",children:[s.jsx(ut,{className:"w-5 h-5"}),s.jsx("span",{children:"Serving OMR and nearby areas"})]}),s.jsx("div",{className:"mt-4",children:s.jsx("a",{href:"https://maps.google.com/?q=12.8921697,80.1993344",target:"_blank",rel:"noreferrer",className:"text-sm font-medium text-primary-600 hover:text-primary-700 underline",children:"Get directions on Google Maps"})})]})]})]})})}),s.jsx("section",{className:"pb-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Find Us on the Map"}),s.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-200 shadow-sm bg-white",children:s.jsx("iframe",{title:"Fixzep Office Location",src:"https://www.google.com/maps?q=12.8921697,80.1993344&output=embed",width:"100%",height:"420",style:{border:0},loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["If the map doesnt load,"," ",s.jsx("a",{href:"https://maps.google.com/?q=12.8921697,80.1993344",target:"_blank",rel:"noreferrer",className:"text-primary-600 underline",children:"open in Google Maps"}),"."]})]})}),s.jsx(Wa,{})]})},tm=()=>{const t=nn(),e=Qe(),a=new URLSearchParams(t.search).get("token")||"",[n,i]=l.useState(""),[o,c]=l.useState(!1),[d,h]=l.useState(null),[x,g]=l.useState(""),[v,w]=l.useState(""),[F,y]=l.useState(!1),S=async b=>{var V,q,se;if(b.preventDefault(),h(null),!n.trim()){const P="Please enter your email address";h(P),D.error(P);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.trim())){const P="Please enter a valid email address";h(P),D.error(P);return}y(!0);try{const P=await qe.forgotPassword(n.trim());if(!((V=P.data)!=null&&V.sent)){h("Email ID not found"),c(!1);return}D.success((P==null?void 0:P.message)||"If an account exists, a reset link has been sent"),c(!0)}catch(P){const G=((se=(q=P==null?void 0:P.response)==null?void 0:q.data)==null?void 0:se.message)||"Failed to send reset email";D.error(G),h(G)}finally{y(!1)}},O=async b=>{var _,V;if(b.preventDefault(),!a){D.error("Invalid or missing reset link");return}if(x.length<6){D.error("Password must be at least 6 characters");return}if(x!==v){D.error("Passwords do not match");return}y(!0);try{const q=await qe.resetPassword(a,x);D.success((q==null?void 0:q.message)||"Password updated successfully"),e("/?from=reset-password")}catch(q){const se=((V=(_=q==null?void 0:q.response)==null?void 0:_.data)==null?void 0:V.message)||"Invalid or expired reset link";D.error(se)}finally{y(!1)}};return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 px-4",children:s.jsx("div",{className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Set a new password"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Choose a strong password that you don't use elsewhere."}),s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"password",children:"New password"}),s.jsx("input",{id:"password",type:"password",value:x,onChange:b=>g(b.target.value),className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-black focus:border-black sm:text-sm",placeholder:"Enter new password"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"confirmPassword",children:"Confirm new password"}),s.jsx("input",{id:"confirmPassword",type:"password",value:v,onChange:b=>w(b.target.value),className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-black focus:border-black sm:text-sm",placeholder:"Re-enter new password"})]}),s.jsx("button",{type:"submit",disabled:F,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-black hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:F?"Updating password...":"Update password"})]})]})})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 px-4",children:s.jsx("div",{className:"max-w-md w-full",children:s.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:o?s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check your email"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["If an account exists for ",s.jsx("span",{className:"font-medium",children:n}),", a password reset link has been sent. Please check your inbox and follow the instructions."]}),s.jsx("button",{type:"button",onClick:()=>e("/"),className:"w-full mt-2 text-sm text-white bg-black hover:bg-gray-900 rounded-lg py-2.5 px-4 transition-colors",children:"Back to homepage"})]}):s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Forgot your password?"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Enter the email associated with your account and we'll send you a link to reset your password."}),s.jsxs("form",{onSubmit:S,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"email",children:"Email address"}),s.jsx("input",{id:"email",type:"email",value:n,onChange:b=>i(b.target.value),className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-black focus:border-black sm:text-sm",placeholder:"you@example.com"}),d&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d})]}),s.jsx("button",{type:"submit",disabled:F,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-black hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:F?"Sending link...":"Send reset link"}),s.jsx("button",{type:"button",onClick:()=>e("/"),className:"w-full mt-2 text-sm text-gray-600 hover:text-gray-900",children:"Back to homepage"})]})]})})})})},sm=new mn({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5*60*1e3}}});function rm(){return s.jsx(un,{client:sm,children:s.jsx(ao,{children:s.jsxs(on,{children:[s.jsx(ei,{position:"top-right"}),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Zl,{}),s.jsx(Hl,{}),s.jsxs(ln,{children:[s.jsx(Pe,{path:"/",element:s.jsx(tc,{})}),s.jsx(Pe,{path:"/banners",element:s.jsx(Va,{})}),s.jsx(Pe,{path:"/services/:categoryId",element:s.jsx(sc,{})}),s.jsx(Pe,{path:"/service/:serviceId",element:s.jsx(rc,{})}),s.jsx(Pe,{path:"/checkout",element:s.jsx(Yd,{})}),s.jsx(Pe,{path:"/orders",element:s.jsx(Hd,{})}),s.jsx(Pe,{path:"/orders/:orderId",element:s.jsx(Qd,{})}),s.jsx(Pe,{path:"/profile",element:s.jsx(Kd,{})}),s.jsx(Pe,{path:"/reset-password",element:s.jsx(tm,{})}),s.jsx(Pe,{path:"/about",element:s.jsx(Jd,{})}),s.jsx(Pe,{path:"/contact",element:s.jsx(em,{})}),s.jsx(Pe,{path:"*",element:s.jsx(cn,{to:"/",replace:!0})})]})]})]})})})}ia(document.getElementById("root")).render(s.jsx(l.StrictMode,{children:s.jsx(rm,{})}));
